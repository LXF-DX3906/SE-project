(function(t){function e(e){for(var i,o,n=e[0],r=e[1],c=e[2],m=0,d=[];m<n.length;m++)o=n[m],a[o]&&d.push(a[o][0]),a[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(d.length)d.shift()();return l.push.apply(l,c||[]),s()}function s(){for(var t,e=0;e<l.length;e++){for(var s=l[e],i=!0,n=1;n<s.length;n++){var r=s[n];0!==a[r]&&(i=!1)}i&&(l.splice(e--,1),t=o(o.s=s[0]))}return t}var i={},a={app:0},l=[];function o(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=i,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(s,i,function(e){return t[e]}.bind(null,i));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],r=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=r;l.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0253":function(t,e,s){t.exports=s.p+"img/nopic.c77c276c.jpg"},"034f":function(t,e,s){"use strict";var i=s("64a9"),a=s.n(i);a.a},1:function(t,e){},1928:function(t,e,s){},"1b36":function(t,e,s){"use strict";var i=s("cc13"),a=s.n(i);a.a},2004:function(t,e,s){},"26d2":function(t,e,s){},2780:function(t,e,s){"use strict";var i=s("4947"),a=s.n(i);a.a},"279a":function(t,e,s){},2972:function(t,e,s){},"2f28":function(t,e,s){"use strict";var i=s("26d2"),a=s.n(i);a.a},"2fe3":function(t,e,s){},3158:function(t,e,s){},3172:function(t,e,s){"use strict";var i=s("e31d"),a=s.n(i);a.a},3278:function(t,e,s){},4108:function(t,e,s){"use strict";var i=s("70d4"),a=s.n(i);a.a},"466c":function(t,e,s){},"47cb":function(t,e,s){},"484d":function(t,e,s){"use strict";var i=s("466c"),a=s.n(i);a.a},4921:function(t,e,s){},4947:function(t,e,s){},"4a07":function(t,e,s){"use strict";var i=s("3278"),a=s.n(i);a.a},"4dd6":function(t,e,s){"use strict";var i=s("279a"),a=s.n(i);a.a},"4e32":function(t,e,s){"use strict";var i=s("ba1c"),a=s.n(i);a.a},"564a":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var i=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("el-container",[s("el-header",{staticClass:"appheader"},[s("myheader")],1),s("el-main",[s("router-view")],1),s("el-footer",[s("myfooter")],1)],1)],1)},l=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hheader",attrs:{id:"head"}},[i("el-row",[i("el-col",{staticClass:"hel-col",attrs:{lg:4,xs:1,sm:1,md:1,xl:4}},[i("img",{staticClass:"hlogo",attrs:{src:s("5fbe")},on:{click:t.show}})]),i("el-col",{attrs:{lg:0,xs:8,sm:4,md:4,xl:1}},[t._v(" ")]),i("el-col",{class:["hel-col",t.flag1?"active-tk":""],attrs:{lg:1,xs:1,sm:1,md:1,xl:1}},[i("el-button",{staticClass:"hbtn",attrs:{type:"text"},on:{click:function(e){return t.show("/gallery")}}},[t._v("图库")])],1),i("el-col",{attrs:{lg:1,xs:1,sm:1,md:1,xl:1}},[t._v(" ")]),i("el-col",{class:["hel-col",t.flag2?"active-sq":""],attrs:{lg:1,xs:1,sm:1,md:1,xl:1}},[i("el-button",{staticClass:"hbtn",attrs:{type:"text"},on:{click:function(e){return t.show("/community")}}},[t._v("社区")])],1),i("el-col",{attrs:{lg:1,xs:1,sm:1,md:1,xl:1}},[t._v(" ")]),i("el-col",{class:["hel-col",t.flag3?"active-fb":""],attrs:{lg:2,xs:2,sm:2,md:2,xl:2}},[i("el-button",{staticClass:"hbtn",attrs:{type:"text"},on:{click:function(e){return t.show("/publish")}}},[t._v("发布作品")])],1),i("el-col",{attrs:{xs:2,sm:8,md:10,lg:11,xl:12}},[t._v(" ")]),i("el-col",{staticClass:"hbtn1 hel-col",attrs:{lg:1,xs:1,sm:1,md:1,xl:1}},[i("img",{staticClass:"huser",attrs:{src:s("c121")}})]),t.user?i("div",[i("el-col",{staticClass:"hbtn1 hel-col",attrs:{lg:1,xs:1,sm:1,md:1,xl:1}},[i("el-button",{staticClass:"hbtn",attrs:{type:"text"},on:{click:function(e){return t.dialog("login")}}},[t._v("登录")])],1),i("el-col",{staticClass:"hbtn1 hel-col",attrs:{lg:1,xs:1,sm:1,md:1,xl:1}},[i("el-button",{staticClass:"hbtn",attrs:{type:"text"},on:{click:function(e){return t.dialog("regis")}}},[t._v("注册")])],1)],1):i("div",[i("el-col",{staticClass:"user",attrs:{lg:1,xs:1,sm:1,md:1,xl:1}},[i("el-dropdown",{on:{command:t.dropcommand}},[i("div",{staticClass:"he-username"},[t._v(t._s(t.username))]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"setting"}},[t._v("账号设置")]),i("el-dropdown-item",{attrs:{command:"logout"}},[t._v("退出登录")])],1)],1)],1)],1)],1),i("el-dialog",{staticClass:"head-dialog",attrs:{title:t.dialogtitle,visible:t.dialogLogin,width:"30%"},on:{"update:visible":function(e){t.dialogLogin=e}}},[i(t.dialogcom,{tag:"component",on:{func:t.dialogswitch,login:t.login}})],1),i("el-dialog",{staticClass:"head-dialog",attrs:{title:t.dialogtitle,visible:t.dialogRegister,width:"30%"},on:{"update:visible":function(e){t.dialogRegister=e}}},[i(t.dialogcom,{tag:"component",on:{func:t.dialogswitch,register:t.register}})],1)],1)},n=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-form",{ref:"ruleForm",staticClass:"head-dialog-form",attrs:{"label-width":"80px",model:t.ruleForm,"status-icon":"",rules:t.rules}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("el-select",{staticClass:"re-select",attrs:{placeholder:"请选择"},model:{value:t.retype,callback:function(e){t.retype=e},expression:"retype"}},t._l(t.options,function(t){return s("el-option",{key:t.value,staticClass:"re-opt",attrs:{label:t.label,value:t.value}})}),1)],1),s("el-col",{attrs:{span:18}},["phone"==t.retype?s("el-form-item",{attrs:{prop:"phone"}},[s("el-input",{staticClass:"rename",attrs:{placeholder:"请输入手机号"},model:{value:t.ruleForm.phone,callback:function(e){t.$set(t.ruleForm,"phone",e)},expression:"ruleForm.phone"}})],1):"email"==t.retype?s("el-form-item",{attrs:{prop:"email"}},[s("el-input",{staticClass:"rename",attrs:{placeholder:"请输入邮箱"},model:{value:t.ruleForm.email,callback:function(e){t.$set(t.ruleForm,"email",e)},expression:"ruleForm.email"}})],1):t._e()],1)],1),s("el-form-item",{attrs:{prop:"pass"}},[s("el-input",{staticClass:"passwd",attrs:{type:"password",autocomplete:"off",placeholder:"输入密码"},model:{value:t.ruleForm.pass,callback:function(e){t.$set(t.ruleForm,"pass",e)},expression:"ruleForm.pass"}})],1)],1),s("el-row",{staticClass:"login",attrs:{type:"flex",justify:"center"}},[s("el-col",{attrs:{span:23}},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.login("ruleForm",t.retype,"phone"==t.retype?t.ruleForm.phone:t.ruleForm.email,t.ruleForm.pass)}}},[t._v("登录")])],1)],1),s("el-row",{staticClass:"zhuce-btn"},[s("el-col",{attrs:{span:4}},[s("el-button",{attrs:{type:"text"},on:{click:t.toregister}},[t._v("立即注册")])],1)],1)],1)},c=[],u={name:"login",data:function(){var t=function(t,e,s){if(!e)return s(new Error("手机号不能为空"));var i=/^1[3|4|5|7|8][0-9]\d{8}$/;if(!i.test(e))return s(new Error("请输入正确的手机号"));s()},e=function(t,e,s){""===e?s(new Error("请输入密码")):e.length<6?s(new Error("密码不能少于6位")):s()};return{rename:"",retype:"phone",options:[{value:"phone",label:"手机"},{value:"email",label:"邮箱"}],ruleForm:{phone:"",email:"",pass:""},rules:{phone:[{validator:t,trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],pass:[{validator:e,trigger:"blur"}]}}},methods:{toregister:function(){this.$emit("func","register")},login:function(t,e,s,i){var a=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;a.$emit("login",e,s,i)})}}},m=u,d=(s("c5a6"),s("2877")),h=Object(d["a"])(m,r,c,!1,null,null,null),g=h.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-form",{ref:"ruleForm",staticClass:"re-dialog-form",attrs:{"label-width":"80px",model:t.ruleForm,"status-icon":"",rules:t.rules}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("el-select",{staticClass:"re-select",attrs:{placeholder:"请选择"},model:{value:t.retype,callback:function(e){t.retype=e},expression:"retype"}},t._l(t.options,function(t){return s("el-option",{key:t.value,staticClass:"re-opt",attrs:{label:t.label,value:t.value}})}),1)],1),s("el-col",{attrs:{span:18}},["phone"==t.retype?s("el-form-item",{attrs:{prop:"phone"}},[s("el-input",{staticClass:"rename",attrs:{placeholder:"请输入手机号"},model:{value:t.ruleForm.phone,callback:function(e){t.$set(t.ruleForm,"phone",e)},expression:"ruleForm.phone"}})],1):"email"==t.retype?s("el-form-item",{attrs:{prop:"email"}},[s("el-input",{staticClass:"rename",attrs:{placeholder:"请输入邮箱"},model:{value:t.ruleForm.email,callback:function(e){t.$set(t.ruleForm,"email",e)},expression:"ruleForm.email"}})],1):t._e()],1)],1),s("el-form-item",{attrs:{prop:"pass"}},[s("el-input",{staticClass:"re-passwd",attrs:{autocomplete:"off",type:"password",placeholder:"输入密码"},model:{value:t.ruleForm.pass,callback:function(e){t.$set(t.ruleForm,"pass",e)},expression:"ruleForm.pass"}})],1),s("el-form-item",{attrs:{prop:"checkPass"}},[s("el-input",{staticClass:"re-passwd",attrs:{type:"password",autocomplete:"off",placeholder:"再次输入密码"},model:{value:t.ruleForm.checkPass,callback:function(e){t.$set(t.ruleForm,"checkPass",e)},expression:"ruleForm.checkPass"}})],1)],1),s("el-row",{staticClass:"login",attrs:{type:"flex",justify:"center"}},[s("el-col",{attrs:{span:23}},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.register(t.retype,"phone"==t.retype?t.ruleForm.phone:t.ruleForm.email,t.ruleForm.checkPass)}}},[t._v("立即注册")])],1)],1),s("el-row",{staticClass:"zhuce-btn"},[s("el-col",{attrs:{span:2}},[s("el-button",{attrs:{type:"text"},on:{click:t.tologin}},[t._v("登录")])],1)],1)],1)},f=[],y={name:"register",data:function(){var t=this,e=function(t,e,s){if(!e)return s(new Error("手机号不能为空"));var i=/^1[3|4|5|7|8][0-9]\d{8}$/;if(!i.test(e))return s(new Error("请输入正确的手机号"));s()},s=function(e,s,i){""===s?i(new Error("请输入密码")):s.length<6?i(new Error("密码不能少于6位")):(""!==t.ruleForm.checkPass&&t.$refs.ruleForm.validateField("checkPass"),i())},i=function(e,s,i){""===s?i(new Error("请再次输入密码")):s.length<6?i(new Error("密码不能少于6位")):s!==t.ruleForm.pass?i(new Error("两次输入密码不一致!")):i()};return{rename:"",retype:"phone",options:[{value:"phone",label:"手机"},{value:"email",label:"邮箱"}],ruleForm:{phone:"",email:"",pass:"",checkPass:""},rules:{phone:[{validator:e,trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],pass:[{validator:s,trigger:"blur"}],checkPass:[{validator:i,trigger:"blur"}]}}},methods:{tologin:function(){this.$emit("func","login")},register:function(t,e,s){var i=this;this.$refs.ruleForm.validate(function(a){if(!a)return!1;i.$emit("register",t,e,s)})}}},v=y,b=(s("c514"),Object(d["a"])(v,p,f,!1,null,null,null)),w=b.exports,C={name:"myheader",components:{login:g,register:w},data:function(){return{comName:"/community",flag1:!1,flag2:!1,flag3:!1,flag4:!1,dialogLogin:!1,dialogRegister:!1,user:!0,username:"",dialogtitle:"登录",dialogcom:"login",uid:localStorage.getItem("uid")}},methods:{show:function(t){this.comName=t,"/gallery"==this.comName?(this.$router.push({path:"/gallery"}),this.flag1=!0,this.flag2=!1,this.flag3=!1,this.flag4=!1):"/community"==this.comName?(this.$router.push({path:"/community"}),this.flag1=!1,this.flag2=!0,this.flag3=!1,this.flag4=!1):"/publish"==this.comName?this.uid?(this.$router.push({path:"/publish"}),this.flag1=!1,this.flag2=!1,this.flag3=!0,this.flag4=!1):this.$message({message:"您还未登录",type:"warning",customClass:"zIndex"}):"/notice"==this.comName?localStorage.getItem("login")?(this.$router.push({path:"/notice"}),this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!0):this.$message({message:"您还未登录",type:"warning",customClass:"zIndex"}):(this.$router.push({path:"/"}),this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1)},dialog:function(t){"login"==t?(this.dialogcom="login",this.dialogtitle="登录",this.dialogLogin=!0,this.dialogRegister=!1):"regis"==t&&(this.dialogcom="register",this.dialogtitle="注册",this.dialogLogin=!1,this.dialogRegister=!0)},dialogswitch:function(t){this.dialogcom=t,"login"==t?this.dialogtitle="登录":"register"==t&&(this.dialogtitle="注册")},getinfo:function(t){var e=this;this.$http.post("/api/basicInfo",{uid:t},{emulateJSON:!0}).then(function(t){"登陆成功"==t.body.message?(t.body.username?e.username=t.body.username:t.body.phone?e.username=t.body.phone:t.body.email&&(e.username=t.body.email),e.$message({message:"登录成功",type:"success",customClass:"zIndex"})):e.$message({message:"登录失败",type:"warning",customClass:"zIndex"})})},login:function(t,e,s){var i=this;"phone"==t?(console.log(t),this.$http.post("/api/phoneLogin",{phone:e,password:s},{emulateJSON:!0}).then(function(t){console.log(t),"登录成功"==t.body.message?(i.user=!1,localStorage.setItem("uid",t.body.uid),localStorage.setItem("login","yes"),i.getinfo(t.body.uid),i.dialogLogin=!1,i.$router.go(0)):"用户名或密码错误"==t.body.message?i.$message({message:"手机号或密码错误",type:"warning",customClass:"zIndex"}):i.$message({message:"登录失败",type:"warning",customClass:"zIndex"})}).catch(function(t){console.log(t),i.$message({message:"登录失败",type:"warning",customClass:"zIndex"})})):"email"==t&&this.$http.post("/api/emailLogin",{email:e,password:s},{emulateJSON:!0}).then(function(t){"登录成功"==t.body.message?(i.user=!1,localStorage.setItem("uid",t.body.uid),localStorage.setItem("login","yes"),i.getinfo(t.body.uid),i.dialogLogin=!1,i.$router.go(0)):"用户名或密码错误"==t.body.message?i.$message({message:"邮箱或密码错误",type:"warning",customClass:"zIndex"}):i.$message({message:"登录失败",type:"warning",customClass:"zIndex"})})},logout:function(){this.user=!0,localStorage.setItem("login",""),localStorage.setItem("uid",""),localStorage.setItem("username",""),this.$router.push({path:"/"})},register:function(t,e,s){var i=this;"phone"==t?this.$http.post("/api/phoneRegister",{phone:e,password:s},{emulateJSON:!0}).then(function(t){"注册成功"==t.body.message?(localStorage.setItem("uid",t.body.uid),localStorage.setItem("login","yes"),i.getinfo(t.body.uid),i.user=!1,i.dialogRegister=!1,i.$router.go(0)):"该手机号已注册"==t.body.message?i.$message({message:"该手机号已注册",type:"warning",customClass:"zIndex"}):i.$message({message:"注册失败",type:"error",customClass:"zIndex"})}):"email"==t&&this.$http.post("/api/emailRegister",{email:e,password:s},{emulateJSON:!0}).then(function(t){"注册成功"==t.body.message?(localStorage.setItem("uid",t.body.uid),localStorage.setItem("login","yes"),i.getinfo(t.body.uid),i.user=!1,i.dialogRegister=!1,i.$router.go(0)):"该邮箱已注册"==t.body.message?i.$message({message:"该邮箱已注册",type:"warning",customClass:"zIndex"}):i.$message({message:"注册失败",type:"error",customClass:"zIndex"})})},setting:function(){this.$router.push({path:"/user/profile"})},dropcommand:function(t){"logout"==t?this.logout():"setting"==t&&this.setting()}},created:function(){"yes"==localStorage.getItem("login")&&(this.user=!1,this.getinfo(localStorage.getItem("uid"))),this.comName=this.$route.path,/gallery/g.test(this.comName)?(this.flag1=!0,this.flag2=!1,this.flag3=!1,this.flag4=!1):/community/g.test(this.comName)?(this.flag1=!1,this.flag2=!0,this.flag3=!1,this.flag4=!1):/publish/g.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.flag4=!1):/notice/g.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!0):(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1)},watch:{$route:function(t){/gallery/g.test(t.path)?(this.flag1=!0,this.flag2=!1,this.flag3=!1,this.flag4=!1):/community/g.test(t.path)?(this.flag1=!1,this.flag2=!0,this.flag3=!1,this.flag4=!1):/publish/g.test(t.path)?(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.flag4=!1):/notice/g.test(t.path)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!0):(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1)}}},x=C,k=(s("9376"),Object(d["a"])(x,o,n,!1,null,null,null)),_=k.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer",attrs:{id:"foot"}},[s("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[s("el-col",{staticClass:"fbtn",attrs:{span:1}},[s("el-button",{attrs:{type:"text"}},[t._v("用户协议")])],1),s("el-col",{staticClass:"fbtn",attrs:{span:1}},[s("p",{staticClass:"s"},[t._v("|")])]),s("el-col",{staticClass:"fbtn",attrs:{span:1}},[s("el-button",{attrs:{type:"text"}},[t._v("寻求帮助")])],1),s("el-col",{staticClass:"fbtn",attrs:{span:1}},[s("p",{staticClass:"s"},[t._v("|")])]),s("el-col",{staticClass:"fbtn",attrs:{span:1}},[s("el-button",{attrs:{type:"text"}},[t._v("联系我们")])],1),s("el-col",{staticClass:"fbtn",attrs:{span:1}},[s("p",{staticClass:"s"},[t._v("|")])]),s("el-col",{staticClass:"fbtn",attrs:{span:1}},[s("el-button",{attrs:{type:"text"}},[t._v("关于我们")])],1)],1),s("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[s("el-col",{attrs:{span:10}},[s("p",{staticClass:"cp"},[t._v("©2019 pictureshare.me 版权所有")])])],1)],1)},I=[],N={name:"myfooter"},z=N,S=(s("66fb"),Object(d["a"])(z,$,I,!1,null,null,null)),O=S.exports,F={name:"app",components:{myheader:_,myfooter:O},data:function(){return{}},methods:{}},A=F,E=(s("034f"),Object(d["a"])(A,a,l,!1,null,null,null)),j=E.exports,q=s("5c96"),J=s.n(q);s("c69f");i["default"].use(J.a);s("0fae");var W=s("784f"),T=s.n(W),V=s("8c4f"),P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sy"},[s("div",{staticClass:"ibanner ib1"},[s("el-row",[s("el-col",{staticClass:"iel-col",attrs:{span:2,offset:1}},[s("span",{staticClass:"iwhite"},[t._v("图库")])]),s("el-col",{staticClass:"iel-col ibtn",attrs:{span:1}},[s("router-link",{attrs:{to:"gallery"}},[s("el-button",{attrs:{icon:"el-icon-arrow-right",type:"primary"}})],1)],1)],1),s("el-row",[s("el-col",{staticClass:"iel-col2",attrs:{span:10,offset:1}},[s("p",[t._v("探索超过100,000张的高清图片")])])],1)],1),s("div",{staticClass:"ibanner ib2"},[s("el-row",[s("el-col",{staticClass:"iel-col",attrs:{span:2,offset:1}},[s("span",{staticClass:"iwhite"},[t._v("社区")])]),s("el-col",{staticClass:"iel-col ibtn cshequ",attrs:{span:1}},[s("router-link",{attrs:{to:"community"}},[s("el-button",{attrs:{icon:"el-icon-arrow-right "}})],1)],1)],1),s("el-row",[s("el-col",{staticClass:"iel-col2",attrs:{span:5,offset:1}},[s("p",[t._v("与全世界的优秀摄像师交流、分享")])])],1)],1),s("div",{staticClass:"ibanner ib3"},[s("el-row",[s("el-col",{staticClass:"iel-col",attrs:{span:2,offset:1}},[s("span",{staticClass:"iwhite"},[t._v("发布")])]),s("el-col",{staticClass:"iel-col ibtn cfabu",attrs:{span:1}},[s("el-button",{attrs:{icon:"el-icon-arrow-right"},on:{click:t.fabu}})],1)],1),s("el-row",[s("el-col",{staticClass:"iel-col2",attrs:{span:4,offset:1}},[s("p",[t._v("让更多的人看到你拍摄的图片")])])],1)],1)])},L=[],D={name:"myindex",data:function(){return{abc:"abc",uid:localStorage.getItem("uid")}},methods:{showtuku:function(){this.$emit("func","gallery")},fabu:function(){this.uid?this.$router.push({path:"/publish"}):this.$message({message:"您还未登录",type:"warning",customClass:"zIndex"})}}},H=D,R=(s("9631"),Object(d["a"])(H,P,L,!1,null,null,null)),U=R.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",{staticClass:"publish"},[s("el-main",{staticClass:"publish-main"},[s("el-upload",{staticClass:"publish-upload",attrs:{action:"","list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-change":t.imgchange,"auto-upload":!1,limit:1,"file-list":t.fileList,"on-exceed":t.maxnum,accept:".jpg, .jpeg, .png, .JPG, .JPEG"}},[s("i",{staticClass:"el-icon-plus"}),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("\n        最大支持20MB的JPEG格式照片\n        "),s("br"),t._v("不建议加画框和水印签名\n      ")])]),s("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.dialogImageUrl,expression:"dialogImageUrl"}],attrs:{width:"100%",alt:""}})])],1),s("el-aside",{staticClass:"publish-aside",attrs:{width:"30%"}},[s("h5",{staticClass:"publish-title"},[t._v("作品描述")]),s("el-input",{staticClass:"publish-width",attrs:{type:"textarea",rows:3,placeholder:"说说你的拍摄经历...."},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),s("h5",{staticClass:"publish-title"},[t._v("标签")]),s("span",{staticClass:"publish-title publish-tj"},[t._v("推荐:")]),s("ul",{staticClass:"publish-ul publish-ulf"},t._l(t.categories,function(e,i){return i<5?s("li",{key:e.id,domProps:{textContent:t._s(e.category)},on:{click:function(s){return t.handleInputConfirm(e.category)}}}):t._e()}),0),s("ul",{staticClass:"publish-ul"},t._l(t.categories,function(e,i){return i>5?s("li",{key:e.id,domProps:{textContent:t._s(e.category)},on:{click:function(s){return t.handleInputConfirm(e.category)}}}):t._e()}),0),t._l(t.dynamicTags,function(e){return s("el-tag",{key:e,attrs:{closable:"","disable-transitions":!1},on:{close:function(s){return t.handleClose(e)}}},[t._v(t._s(e))])}),t.inputVisible?s("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"mini"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm(t.inputValue)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):t._e(),t.dynamicTags.length<5?s("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+")]):t._e(),s("ul",{staticClass:"publish-ult"},[s("li",{staticClass:"publish-li-left"},[t._v("(输入标签内容回车即可添加标签)")]),s("li",{staticClass:"publish-li-right"},[t._v(t._s(t.dynamicTags.length)+"/5")])]),s("el-button",{staticClass:"publish-btn",attrs:{plain:""},on:{click:function(e){return t.publish()}}},[t._v("发   布")])],2)],1)},B=[],Z=(s("6b54"),s("06db"),{name:"publish",data:function(){return{uid:localStorage.getItem("uid"),dynamicTags:[],inputVisible:!1,inputValue:"",dialogImageUrl:"",dialogVisible:!1,fileList:[],description:"",tag:"",imgurl:"",width:"",height:"",categories:[{id:0,category:"人像"},{id:1,category:"风光"},{id:2,category:"城市"},{id:3,category:"旅行"},{id:4,category:"纪实"},{id:5,category:"色彩"},{id:6,category:"手机"},{id:7,category:"黑白"},{id:8,category:"胶片"},{id:9,category:"抓拍"}],uploadFormdata:new FormData}},methods:{handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},submitUpload:function(){this.$refs.upload.submit()},imgchange:function(t,e){console.log(t),this.uploadFormdata=new FormData;var s=new Image;s.src=t.url;var i=this;s.onload=function(){i.height=s.height,i.width=s.width},this.uploadFormdata.append("img",t.raw),console.log(this.uploadFormdata)},maxnum:function(){this.$message({message:"最多只能上传1张图片",type:"warning",customClass:"zIndex"})},handleClose:function(t){this.dynamicTags.splice(this.dynamicTags.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(t){for(var e=!1,s=0;s<this.dynamicTags.length;s++)t==this.dynamicTags[s]&&(e=!0);e?(this.inputVisible=!1,this.inputValue=""):t&&(this.dynamicTags.push(t),this.inputVisible=!1,this.inputValue="")},publish:function(){var t=this,e=this.dynamicTags.toString();this.uploadFormdata.append("height",this.height.toString()),this.uploadFormdata.append("width",this.width.toString()),this.uploadFormdata.append("uid",this.uid.toString()),this.uploadFormdata.append("type_name",e),this.uploadFormdata.append("description",this.description),console.log(this.uploadFormdata.get("type_name")),this.$http.post("/api/pictureUpload",this.uploadFormdata).then(function(e){console.log(e),"添加成功"==e.body.message?(t.$message({message:"发布成功",type:"success",customClass:"zIndex"}),t.description="",t.dynamicTags=[],t.fileList=[],t.imgurl="",t.width="",t.height=""):t.$message({message:"发布失败",type:"danger",customClass:"zIndex"})})}}}),G=Z,M=(s("2f28"),Object(d["a"])(G,Y,B,!1,null,null,null)),K=M.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"other"},[s("div",{staticClass:"head",style:{backgroundImage:"url("+t.bgurl+")"}},[s("div",{staticClass:"head-bg"},[s("ul",{staticClass:"other-ul"},[s("li",{staticClass:"other-tx"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.txurl,expression:"txurl"}]})]),s("li",{staticClass:"other-li2"},[s("ul",{staticClass:"other-ul2"},[s("li",{staticClass:"other-name",domProps:{textContent:t._s(t.username)}}),s("li",[s("ul",{staticClass:"other-ul3"},[s("li",[s("span",[t._v("关注 "+t._s(t.follows))])]),s("li",[s("span",[t._v("粉丝 "+t._s(t.fans))])]),s("li",[s("el-button",{staticClass:"other-gz",attrs:{size:"mini"},on:{click:function(e){return t.follow(t.uuid)}}},[t._v("关注")])],1)])]),s("li",{staticClass:"other-intr",domProps:{textContent:t._s(t.introduction)}})])])])])]),s("el-container",[s("el-header",[s("el-row",{staticClass:"other-head",attrs:{type:"flex",justify:"center"}},[s("el-col",{class:["other-btn",t.flag1?"other-btn-act":""],attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){t.show("mywork"),t.showwork()}}},[t._v("他的作品")])],1),s("el-col",{class:["other-btn","other-like",t.flag2?"other-btn-act":""],attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){t.show("mylike"),t.showlike()}}},[t._v("喜欢")])],1),s("el-col",{class:["other-btn","other-collection",t.collection?"other-btn-act":""],attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){t.show("mycollection"),t.showcollection()}}},[t._v("收藏")])],1),s("el-col",{class:["other-btn",t.flag3?"other-btn-act":""],attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){t.show("myalbum"),t.showalbum()}}},[t._v("相册")])],1)],1)],1),s("el-main",{staticClass:"myother-main"},[s("router-view")],1)],1)],1)},X=[],tt={name:"other",components:{},data:function(){var t;return t=void 0!=this.$route.query.uuid?this.$route.query.uuid:this.$route.query.uid,{comName:this.$route.path,flag1:!0,flag2:!1,flag3:!1,flag5:!1,collection:!1,uuid:t,uid:localStorage.getItem("uid"),username:"",txurl:"/img/tx6.27d6e020.jpg",bgurl:s("cf85"),introduction:"做个自我介绍吧..",fans:"",follows:"",newalbum:!1,alname:""}},created:function(){this.getinfo(),/work/gi.test(this.comName)?(this.flag1=!0,this.flag2=!1,this.flag3=!1,this.collection=!1):/like/gi.test(this.comName)?(this.flag1=!1,this.flag2=!0,this.flag3=!1,this.collection=!1):/collection/gi.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.collection=!0):/detail/gi.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.collection=!1):/album/gi.test(this.comName)&&(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.collection=!1)},watch:{$route:function(t){/work/gi.test(t.path)?(this.flag1=!0,this.flag2=!1,this.flag3=!1,this.collection=!1):/like/gi.test(t.path)?(this.flag1=!1,this.flag2=!0,this.flag3=!1,this.collection=!1):/collection/gi.test(t.path)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.collection=!0):/detail/gi.test(t.path)?(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.collection=!1):/album/gi.test(t.path)&&(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.collection=!1)}},methods:{follow:function(t){var e=this;this.$http.post("/api/addFocus",{uid:this.uid,uuid:t},{emulateJSON:!0}).then(function(t){"关注成功"==t.body.message?(e.$message({message:"关注成功",type:"success",customClass:"zIndex"}),e.getinfo()):"已关注该用户"==t.body.message?e.$message({message:"您已关注",type:"warning",customClass:"zIndex"}):e.$message({message:"关注失败",type:"warning",customClass:"zIndex"})})},getinfo:function(){var t=this;this.$http.post("/api/basicInfo",{uid:this.uuid},{emulateJSON:!0}).then(function(e){e.body.username?t.username=e.body.username:t.username="注册用户",t.introduction=e.body.introduce,t.txurl=t.$store.state.HOST+e.body.head_image,t.fans=e.body.fans,t.follows=e.body.follow})},showalbum:function(){this.$router.push({path:"/community/others/album",query:{uid:this.uuid}})},showwork:function(){this.$router.push({path:"/community/others/work",query:{my:!1,uid:this.uuid}})},showlike:function(){this.$router.push({path:"/community/others/like",query:{my:!1,uid:this.uuid}})},showcollection:function(){this.$router.push({path:"/community/others/collection",query:{my:!1,uid:this.uuid}})},show:function(t){this.comName=t,/work/gi.test(this.comName)?(this.flag1=!0,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!1):/like/gi.test(this.comName)?(this.flag1=!1,this.flag2=!0,this.flag3=!1,this.flag4=!1,this.collection=!1):/collection/gi.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!0):/detail/gi.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.flag4=!1,this.collection=!1):/album/gi.test(this.comName)&&(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.flag4=!0,this.collection=!1)}}},et=tt,st=(s("484d"),Object(d["a"])(et,Q,X,!1,null,null,null)),it=st.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ga"},[i("div",{staticClass:"gbanner"},[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{staticClass:"gel-col",attrs:{span:10,offset:0}},[i("el-row",[i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"fileInput"},on:{change:function(e){return t.changeImg(e)}}}),i("el-input",{attrs:{placeholder:"搜索图库内的图片"},model:{value:t.searchwords,callback:function(e){t.searchwords=e},expression:"searchwords"}},[i("el-button",{staticClass:"tuku-search",attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.search(t.searchwords)}},slot:"append"}),i("label",{attrs:{slot:"suffix",for:"fileInput"},slot:"suffix"},[i("img",{staticClass:"camera-button-gallery",attrs:{src:s("c0b1")}})]),t._v(">\n        ")],1)],1)],1)],1)],1),i("div",{staticClass:"gmain"},[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{staticClass:"gel-col2",attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[i("img",{attrs:{src:s("93ab")}})]),i("el-col",{staticClass:"gel-col2",attrs:{xs:9,sm:7,md:6,lg:6,xl:4}},[i("h1",[t._v("热门专题")])]),i("el-col",{staticClass:"gel-col2",attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[i("img",{attrs:{src:s("93ab")}})])],1),i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{staticClass:"gel-col3",attrs:{xs:4,sm:4,md:4,lg:4,xl:4}},[i("h1",[t._v("THEME")])])],1),i("el-row",{staticStyle:{height:"46px"},attrs:{type:"flex",justify:"center"}},[t._l(t.sorts,function(e,s){return s<10?i("el-col",{key:e.id,class:["gel-col4",e.flag?"gtuku-active":""],attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[i("el-button",{attrs:{type:"text"},on:{click:function(s){return t.sortacitve(e.id)}}},[t._v(t._s(e.name))])],1):t._e()}),i("el-col",{staticClass:"gel-col4 gsp",attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[i("el-button",{attrs:{plain:"",round:"",size:"mini"},on:{click:t.more}},[t._v("更多")])],1)],2),t.show?i("el-row",{staticStyle:{height:"46px"},attrs:{type:"flex",justify:"center"}},t._l(t.sorts,function(e,s){return s>10?i("el-col",{key:e.id,class:["gel-col4",e.flag?"gtuku-active":""],attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[i("el-button",{attrs:{type:"text"},on:{click:function(s){return t.sortacitve(e.id)}}},[t._v(t._s(e.name))])],1):t._e()}),1):t._e()],1),i("div",{staticClass:"gtuku"},[i("vue-loading",{staticClass:"wait-loading ",class:{loadingDisplay:!t.isLoading},attrs:{type:"spiningDubbles",color:"#9e9e9e",size:{width:"50px",height:"50px"}}}),t._l(t.imgs,function(e){return i("div",{key:e.pid,staticClass:"gtuku-div",style:{width:200*e.width/e.height+"px",flexGrow:200*e.width/e.height}},[i("i",{style:{paddingBottom:e.height/e.width*100+"%"}}),i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.position,expression:"img.position"}],on:{click:function(s){return t.showdia(e)}}})])})],2),i("el-dialog",{attrs:{visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"dia-cont"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.diaitem.position,expression:"diaitem.position"}]})]),t.collect?i("el-button",{attrs:{type:"text"},on:{click:function(e){return t.docollect(t.diaitem.pid)}}},[t._v("收藏")]):i("el-button",{staticStyle:{color:"#bfbfbf"},attrs:{type:"text"},on:{click:function(e){return t.cancelcollect(t.diaitem.pid)}}},[t._v("已收藏")])],1)],1)},lt=[],ot=s("5d73"),nt=s.n(ot),rt=s("5176"),ct=s.n(rt),ut=s("21a6"),mt=s.n(ut),dt=(s("21a6"),{name:"gallery",components:{saveAs:mt.a},data:function(){return{show:!1,searchwords:"",dialogVisible:!1,uid:localStorage.getItem("uid"),collect:!0,diaitem:[],imgs:[],sorts:[{id:1,name:"城市",flag:!0},{id:2,name:"星空",flag:!1},{id:3,name:"旅游",flag:!1},{id:4,name:"冬天",flag:!1},{id:5,name:"迪士尼",flag:!1},{id:6,name:"美食",flag:!1},{id:7,name:"动漫",flag:!1},{id:8,name:"风景",flag:!1},{id:9,name:"建筑",flag:!1},{id:10,name:"背景",flag:!1},{id:11,name:"医疗",flag:!1},{id:12,name:"植物",flag:!1},{id:13,name:"阅读",flag:!1},{id:14,name:"动物",flag:!1},{id:15,name:"科技",flag:!1}],isLoading:!0}},created:function(){this.getdata(1)},methods:{sortacitve:function(t){for(var e=0;e<15;e++)this.sorts[e].flag=!1;this.sorts[t-1].flag=!0,this.getdata(t)},getdata:function(t){var e=this;this.$http.post("/api/typeSearch",{tid:t},{emulateJSON:!0}).then(function(t){e.imgs=[];var s=ct()(t.body.result),i=!0,a=!1,l=void 0;try{for(var o,n=nt()(s);!(i=(o=n.next()).done);i=!0){var r=o.value,c={pid:r.pictureId,position:e.$store.state.HOST+r.position,width:r.width,height:r.height,description:r.description};e.imgs.push(c),e.isLoading=!1}}catch(u){a=!0,l=u}finally{try{i||null==n.return||n.return()}finally{if(a)throw l}}})},more:function(){this.show?this.show=!1:this.show=!0},search:function(t){this.$router.push({path:"/gallery/search",query:{keywords:t}})},showdia:function(t){this.dialogVisible=!0,this.diaitem=t,this.collectinfo(this.diaitem.pid)},collectinfo:function(t){var e=this;console.log("hhhhh"),this.$http.post("/api/pictureCollectDelete",{uid:this.uid,pid:t},{emulateJSON:!0}).then(function(s){"未收藏"==s.body.message?e.collect=!0:e.$http.post("/api/pictureCollect",{uid:e.uid,pid:t},{emulateJSON:!0}).then(function(t){console.log("hhh",t),e.collect=!1})})},docollect:function(t){var e=this;this.uid?this.$http.post("/api/pictureCollect",{uid:this.uid,pid:t},{emulateJSON:!0}).then(function(t){"收藏成功"==t.body.message?(e.collect=!1,e.$message({message:"收藏成功",type:"success",customClass:"zIndex"})):e.$message({message:"您已经收藏",type:"danger",customClass:"zIndex"})}):this.$message({message:"您还未登录",type:"warning",customClass:"zIndex"})},cancelcollect:function(t){var e=this;this.$http.post("/api/pictureCollectDelete",{uid:this.uid,pid:t},{emulateJSON:!0}).then(function(t){"取消收藏成功"==t.body.message?(e.collect=!0,e.$message({message:"取消收藏成功",type:"success",customClass:"zIndex"})):e.$message({message:"取消收藏失败",type:"danger",customClass:"zIndex"})})},downpic:function(t){this.downloadIamge(t)},downloadIamge:function(t,e){var s=new Image;s.setAttribute("crossOrigin","anonymous"),s.onload=function(){var t=document.createElement("canvas");t.width=s.width,t.height=s.height;var i=t.getContext("2d");i.drawImage(s,0,0,s.width,s.height);var a=t.toDataURL("image/png"),l=document.createElement("a"),o=new MouseEvent("click");l.download=e||"photo",l.href=a,l.dispatchEvent(o)},s.src=t},changeImg:function(t){var e=this,s=t.target.files[0],i=new FormData;i.append("img",s),this.$http.post("/api/searchImgByImg",i).then(function(t){"上传成功"==t.body.message&&e.$router.push({path:"/gallery/search",query:{imageSearch:t.body}})})}}}),ht=dt,gt=(s("4e32"),Object(d["a"])(ht,at,lt,!1,null,null,null)),pt=gt.exports,ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("div",{staticClass:"search-row"},[i("el-row",{staticStyle:{height:"50px"},attrs:{type:"flex",justify:"center"}},[i("el-col",{staticClass:"search-col",attrs:{span:11}},[i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"fileInput"},on:{change:function(e){return t.changeImg(e)}}}),i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[i("el-button",{staticStyle:{fontSize:"20px"},attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.getdata(t.input)}},slot:"append"}),i("label",{attrs:{slot:"suffix",for:"fileInput"},slot:"suffix"},[i("img",{staticClass:"camera-button",attrs:{src:s("c0b1")}})]),t._v(">\n        ")],1)],1)],1)],1),i("div",{staticClass:"gtuku"},t._l(t.imgs,function(e){return i("div",{key:e.pid,staticClass:"gtuku-div",style:{width:200*e.weight/e.height+"px",flexGrow:200*e.weight/e.height}},[i("i",{style:{paddingBottom:e.height/e.weight*100+"%"}}),i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.position,expression:"img.position"}],on:{click:function(s){return t.showdia(e)}}})])}),0),i("el-dialog",{attrs:{visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"dia-cont"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.diaitem.position,expression:"diaitem.position"}]})]),i("el-button",{attrs:{type:"text"},on:{click:function(e){return t.docollect(t.diaitem.pid)}}},[t._v("收藏")])],1)],1)},yt=[],vt=s("f499"),bt=s.n(vt),wt={name:"search",data:function(){return{uid:localStorage.getItem("uid"),input:this.$route.query.keywords,dialogVisible:!1,diaitem:[],imgs:[],infoByImage:this.$route.query.imageSearch,isLoading:!0}},created:function(){this.getdata(this.input),this.getDataByImage(this.infoByImage)},methods:{getDataByImage:function(t){try{if(""==t.result||void 0==t.result||null==t.result)return}catch(c){return}console.log(t),this.imgs=[];var e=ct()(t.result),s=!0,i=!1,a=void 0;try{for(var l,o=nt()(e);!(s=(l=o.next()).done);s=!0){var n=l.value,r={pid:n.pictureId,position:this.$store.state.HOST+n.position,weight:n.width,height:n.height,description:n.description};this.imgs.push(r)}}catch(u){i=!0,a=u}finally{try{s||null==o.return||o.return()}finally{if(i)throw a}}},getdata:function(t){var e=this;""!=t&&void 0!=t&&null!=t&&(console.log("hhhhhhhhhhhhhh",t),this.isLoading=!0,this.$http.post("/api/keywordSearch",{keyword:t},{emulateJSON:!0}).then(function(s){console.log(s),e.imgs=[];var i=ct()(s.body.result),a=!0,l=!1,o=void 0;try{for(var n,r=nt()(i);!(a=(n=r.next()).done);a=!0){var c=n.value,u={pid:c.pictureId,position:e.$store.state.HOST+c.position,weight:c.width,height:c.height,description:c.description};e.imgs.push(u),e.isLoading=!1}}catch(g){l=!0,o=g}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}console.log(e.imgs);var m=e.$router.history.current.query,d=e.$router.history.current.path,h=JSON.parse(bt()(m));h.keywords=t,e.$router.push({path:d,query:h})}))},showdia:function(t){this.dialogVisible=!0,this.diaitem=t},docollect:function(t){var e=this;this.$http.post("/api/pictureCollect",{uid:this.uid,pid:t},{emulateJSON:!0}).then(function(t){"收藏成功"==t.body.message?e.$message({message:"收藏成功",type:"success",customClass:"zIndex"}):e.$message({message:"您已经收藏",type:"danger",customClass:"zIndex"})})},changeImg:function(t){var e=this;this.isLoading=!0,console.log(t);var s=t.target.files[0],i=new FormData;i.append("img",s),this.$http.post("/api/searchImgByImg",i).then(function(t){if("上传成功"==t.body.message){console.log(t),e.imgs=[];var s=ct()(t.body.result),i=!0,a=!1,l=void 0;try{for(var o,n=nt()(s);!(i=(o=n.next()).done);i=!0){var r=o.value,c={pid:r.pictureId,position:e.$store.state.HOST+r.position,weight:r.width,height:r.height,description:r.description};e.imgs.push(c),e.isLoading=!1}}catch(u){a=!0,l=u}finally{try{i||null==n.return||n.return()}finally{if(a)throw l}}console.log(e.imgs)}})}}},Ct=wt,xt=(s("d58a"),Object(d["a"])(Ct,ft,yt,!1,null,null,null)),kt=xt.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-container",[s("el-header",[s("el-row",{staticClass:"comhead",attrs:{type:"flex",justify:"center"}},[s("el-col",{class:["communitybtn",t.flag1?"com-btn-act":""],attrs:{span:2,offset:0}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){return t.show("recommend")}}},[t._v("推荐")])],1),s("el-col",{class:["communitybtn",t.flag3?"com-btn-act":""],attrs:{span:2,offset:5}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){return t.show("mycommunity")}}},[t._v("我的社区")])],1)],1)],1),s("el-main",[s("router-view")],1)],1)],1)},$t=[],It={name:"community",components:{},data:function(){return{comName:this.$route.path,flag1:!0,flag2:!1,flag3:!1,uid:localStorage.getItem("uid")}},methods:{showsq:function(){this.$router.push({path:"/community/mycommunity",query:{my:!0,uid:this.uid}})},show:function(t){this.comName=t,/recommend/gi.test(this.comName)?(this.$router.push({path:"/community/recommend"}),this.flag1=!0,this.flag2=!1,this.flag3=!1):/mycommunity/gi.test(this.comName)&&(this.uid?(this.showsq(),this.flag1=!1,this.flag2=!1,this.flag3=!0):this.$message({message:"您还未登录",type:"warning",customClass:"zIndex"}))}},created:function(){/recommend/gi.test(this.comName)?(this.flag1=!0,this.flag2=!1,this.flag3=!1):/mycommunity/gi.test(this.comName)&&(this.flag1=!1,this.flag2=!1,this.flag3=!0)}},Nt=It,zt=(s("8f6e"),Object(d["a"])(Nt,_t,$t,!1,null,null,null)),St=zt.exports,Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"community"},[s("div",{staticClass:"head",style:{backgroundImage:"url("+t.bgurl+")"}},[s("div",{staticClass:"head-bg"},[s("ul",{staticClass:"community-ul"},[s("li",{staticClass:"community-tx"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.txurl,expression:"txurl"}]})]),s("li",{staticClass:"community-li2"},[s("ul",{staticClass:"community-ul2"},[s("li",{staticClass:"community-name",domProps:{textContent:t._s(t.username)}}),s("li",[s("ul",{staticClass:"community-ul3"},[s("li",[s("el-button",{attrs:{type:"text"},on:{click:function(e){t.show("follows"),t.showfollows()}}},[t._v("关注 "+t._s(t.follows))])],1),s("li",[s("el-button",{attrs:{type:"text"},on:{click:function(e){t.show("fans"),t.showfans()}}},[t._v("粉丝 "+t._s(t.fans))])],1)])]),s("li",{staticClass:"community-intr",domProps:{textContent:t._s(t.introduction)}})])])])])]),s("el-container",[s("el-header",[s("el-row",{staticClass:"community-head",attrs:{type:"flex",justify:"center"}},[s("el-col",{class:["community-btn",t.flag1?"community-btn-act":""],attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){t.show("mywork"),t.showwork()}}},[t._v("我的作品")])],1),s("el-col",{class:["community-btn","community-like",t.flag2?"community-btn-act":""],attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){t.show("mylike"),t.showlike()}}},[t._v("喜欢")])],1),s("el-col",{class:["community-btn","community-collection",t.collection?"community-btn-act":""],attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){t.show("mycollection"),t.showcollection()}}},[t._v("收藏")])],1),s("el-col",{class:["community-btn",t.flag3?"community-btn-act":""],attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){t.show("myalbum"),t.showalbum()}}},[t._v("相册")])],1),t.flag4?s("div",{class:[t.flag5?"community-head-btn3":"community-head-btn"]},[s("el-button",{staticClass:"mycommunity-btn-al",attrs:{size:"mini"},on:{click:t.createalbum}},[t._v("新建相册")])],1):t._e()],1),s("el-dialog",{attrs:{title:"新建相册",visible:t.newalbum},on:{"update:visible":function(e){t.newalbum=e}}},[s("el-form",[s("el-form-item",{attrs:{label:"相册名称","label-width":t.formLabelWidth1}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.alname,callback:function(e){t.alname=e},expression:"alname"}})],1),s("el-form-item",{attrs:{label:"相册描述","label-width":t.formLabelWidth1}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.alinfo,callback:function(e){t.alinfo=e},expression:"alinfo"}})],1),s("el-form-item",{attrs:{label:"是否公开","label-width":t.formLabelWidth2}},[s("el-select",{attrs:{placeholder:"请选择是否公开"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.options,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.newalbum=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.createsubmit}},[t._v("确 定")])],1)],1)],1),s("el-main",{staticClass:"mycommunity-main"},[s("router-view",{ref:"child",on:{getmsg:t.getmsg}})],1)],1)],1)},Ft=[],At={name:"mycommunity",components:{},data:function(){return{comName:this.$route.path,flag1:!0,flag2:!1,flag3:!1,flag4:!1,flag5:!1,collection:!1,uid:localStorage.getItem("uid"),username:"",txurl:"../../assets/tx6.jpg",bgurl:s("cf85"),introduction:"做个自我介绍吧..",follows:"",fans:"",newalbum:!1,alname:"",alinfo:"",status:0,options:[{value:0,label:"公开"},{value:1,label:"私密"}],formLabelWidth1:"100px",formLabelWidth2:"100px"}},created:function(){this.getinfo(),/follows/gi.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!1):/fans/gi.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!1):/mywork/gi.test(this.comName)?(this.flag1=!0,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!1):/mylike/gi.test(this.comName)?(this.flag1=!1,this.flag2=!0,this.flag3=!1,this.flag4=!1,this.collection=!1):/mycollection/gi.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!0):/detail/gi.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.flag4=!1,this.collection=!1):/myalbum/gi.test(this.comName)&&(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.flag4=!0,this.collection=!1)},watch:{$route:function(t){/follows/gi.test(t.path)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!1):/fans/gi.test(t.path)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!1):/mywork/gi.test(t.path)?(this.flag1=!0,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!1):/mylike/gi.test(t.path)?(this.flag1=!1,this.flag2=!0,this.flag3=!1,this.flag4=!1,this.collection=!1):/mycollection/gi.test(t.path)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!0):/detail/gi.test(t.path)?(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.flag4=!1,this.collection=!1):/myalbum/gi.test(t.path)&&(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.flag4=!0,this.collection=!1)}},methods:{getmsg:function(t){this.follows=t},getinfo:function(){var t=this;this.$http.post("/api/basicInfo",{uid:localStorage.getItem("uid")},{emulateJSON:!0}).then(function(e){e.body.username?t.username=e.body.username:t.username="注册用户",t.introduction=e.body.introduce,t.txurl=t.$store.state.HOST+e.body.head_image,t.follows=e.body.follow,t.fans=e.body.fans})},createalbum:function(){this.newalbum=!0},createsubmit:function(){var t=this;this.$http.post("/api/createAlbum",{uid:this.uid,albumName:this.alname,status:this.status,description:this.alinfo},{emulateJSON:!0}).then(function(e){"创建成功"==e.body.message?(t.$message({message:"创建成功",type:"success",customClass:"zIndex"}),t.$refs.child.getalbum(),t.newalbum=!1):(t.$message({message:"创建失败",type:"danger",customClass:"zIndex"}),t.newalbum=!1)})},showalbum:function(){this.$router.push({path:"/community/mycommunity/myalbum",query:{uid:this.uid}})},showwork:function(){this.$router.push({path:"/community/mycommunity/mywork",query:{my:!0,uid:this.uid}})},showlike:function(){this.$router.push({path:"/community/mycommunity/mylike",query:{my:!0,uid:this.uid}})},showcollection:function(){this.$router.push({path:"/community/mycommunity/mycollection",query:{my:!0,uid:this.uid}})},showfans:function(){this.$router.push({path:"/community/mycommunity/fans",query:{fans:this.fans,uid:this.uid,follows:this.follows}})},showfollows:function(){this.$router.push({path:"/community/mycommunity/follows",query:{follows:this.follows,uid:this.uid}})},show:function(t){this.comName=t,/follows/gi.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!1):/fans/gi.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!1):/mywork/gi.test(this.comName)?(this.flag1=!0,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!1):/mylike/gi.test(this.comName)?(this.flag1=!1,this.flag2=!0,this.flag3=!1,this.flag4=!1,this.collection=!1):/mycollection/gi.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.collection=!0):/detail/gi.test(this.comName)?(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.flag4=!1,this.collection=!1):/myalbum/gi.test(this.comName)&&(this.flag1=!1,this.flag2=!1,this.flag3=!0,this.flag4=!0,this.collection=!1)}}},Et=At,jt=(s("4a07"),Object(d["a"])(Et,Ot,Ft,!1,null,null,null)),qt=jt.exports,Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommend"},[s("el-row",{attrs:{type:"flex",justify:"center"}},[s("el-col",{attrs:{span:23}},[s("waterfall",{staticClass:"recommend-div",attrs:{col:t.col,width:t.itemWidth,gutterWidth:t.gutterWidth,data:t.imgs},on:{loadmore:t.loadmore,scroll:t.scroll}},[[s("vue-loading",{staticClass:"wait-loading ",class:{loadingDisplay:!t.isLoading},attrs:{type:"spiningDubbles",color:"#9e9e9e",size:{width:"50px",height:"50px"}}}),t._l(t.imgs,function(e){return s("div",{key:e.id,staticClass:"cell-item"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.position,expression:"img.position"}],staticClass:"recommend-img",on:{click:function(s){return t.show(e)}}}),s("div",{staticClass:"item-body"},[s("div",{staticClass:"recommend-desc"},[t._v(t._s(e.description))]),s("el-row",{staticClass:"recommend-footer",attrs:{type:"flex"}},[s("el-col",{staticClass:"recommend-tx",attrs:{xs:4,sm:4,md:4,lg:4,xl:4}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.head_image,expression:"img.head_image"}],on:{click:function(s){return t.others(e.uid)}}})]),s("el-col",{staticClass:"recommend-name",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[s("span",{on:{click:function(s){return t.others(e.uid)}}},[t._v(t._s(e.username?e.username:"注册用户"))])])],1)],1)])})]],2)],1)],1),s("el-dialog",{attrs:{visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"recommend-diahead"},[s("div",{staticClass:"recommend-diahead-tx"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.useritem.head_image,expression:"useritem.head_image"}],on:{click:function(e){return t.others(t.diaitem.uid)}}})]),s("div",{staticClass:"recommend-diahead-name",on:{click:function(e){return t.others(t.diaitem.uid)}}},[t._v(t._s(t.useritem.username?t.useritem.username:"注册用户"))]),s("el-button",{staticClass:"recommend-diahead-btn",attrs:{size:"medium",type:"success"},on:{click:function(e){return t.follow(t.diaitem.uid)}}},[t._v("关注")])],1),s("div",{staticClass:"recommend-dia-cont"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.diaitem.position,expression:"diaitem.position"}]})]),s("div",{staticClass:"recommend-dia-text",domProps:{textContent:t._s(t.diaitem.description)}}),s("div",{staticClass:"recommend-dia-like"},[s("el-button",{attrs:{icon:"el-icon-gz-heart"},on:{click:function(e){return t.like(t.diaitem)}}}),s("span",{domProps:{textContent:t._s(t.diaitem.like_num)}})],1),s("div",{staticClass:"recommend-dia-tabs"},[s("div",{staticClass:"recommend-dia-comment"},[s("el-input",{staticClass:"recommend-dia-input",attrs:{placeholder:"请输入内容"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),s("el-button",{staticClass:"recommend-dia-btn",attrs:{type:"primary"},on:{click:function(e){return t.addcom(t.diaitem.pid,t.diaitem.uid,t.comment)}}},[t._v("评 论")])],1),t._l(t.picdetail.comment,function(e){return s("div",{key:e.cid,staticClass:"recommend-hot"},[s("div",{staticClass:"recommend-hot-tx"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.HOST+e.from_head_image,expression:"HOST+com.from_head_image"}]})]),s("div",{staticClass:"recommend-hot-name"},[t._v(t._s(e.from_username?e.from_username:"注册用户"))]),s("div",{staticClass:"recommend-coms-com"},[t._v(t._s(e.content))])])})],2)])],1)},Wt=[],Tt=s("2f62");i["default"].use(Tt["a"]);var Vt=new Tt["a"].Store({state:{HOST:"http://119.3.190.51:8021/"},mutations:{},actions:{}}),Pt={name:"recommend",components:{},data:function(){return{uid:localStorage.getItem("uid"),dialogVisible:!1,comment:"",col:4,avatar:"http://188.131.192.194/head_images/5LSk0zVtyKDq9UciiWPab50dwjoNI2324KtwSyBD.jpeg",imgs:[],diaitem:[],picdetail:[],useritem:{},HOST:this.$store.state.HOST,isLoading:!0}},created:function(){this.getData()},computed:{itemWidth:function(){return document.documentElement.clientWidth/320*69},gutterWidth:function(){return document.documentElement.clientWidth/300*4.5}},methods:{others:function(t){this.$router.push({path:"/community/others",query:{my:!1,uid:t}})},follow:function(t){var e=this;this.$http.post("/api/addFocus",{uid:this.uid,uuid:t},{emulateJSON:!0}).then(function(t){"关注成功"==t.body.message?e.$message({message:"关注成功",type:"success",customClass:"zIndex"}):"已关注该用户"==t.body.message?e.$message({message:"您已关注",type:"warning",customClass:"zIndex"}):e.$message({message:"关注失败",type:"warning",customClass:"zIndex"})})},scroll:function(){},loadmore:function(){},getData:function(){var t=this;this.$http.get("/api/pictureUsersList").then(function(e){console.log(e),t.imgs=[];var s=ct()(e.body.result),i=!0,a=!1,l=void 0;try{for(var o,n=nt()(s);!(i=(o=n.next()).done);i=!0){var r=o.value,c={pid:r.pictureId,position:t.$store.state.HOST+r.position,weight:r.width,height:r.height,description:r.description,uid:r.userId,username:r.userName,head_image:t.$store.state.HOST+r.headImg,like_num:r.likeNum};t.imgs.push(c),t.isLoading=!1}}catch(u){a=!0,l=u}finally{try{i||null==n.return||n.return()}finally{if(a)throw l}}})},getuserinfo:function(t){var e=this;this.$http.post("/api/basicInfo",{uid:t},{emulateJSON:!0}).then(function(t){console.log(t),e.useritem={username:t.body.username,sex:t.body.sex,desc:t.body.introduction,city:t.body.city,province:t.body.province,birth:t.body.birthday,head_image:e.$store.state.HOST+t.body.head_image}})},getpicdetail:function(t){var e=this;this.$http.post("/api/pictureDetail",{pid:t},{emulateJSON:!0}).then(function(t){console.log(t),e.picdetail=ct()(t.body.result)})},addcom:function(t,e,s){var i=this;this.$http.post("/api/userComment",{pid:t,uid:this.uid,uuid:e,content:s},{emulateJSON:!0}).then(function(e){"评论成功"==e.body.message?(i.getpicdetail(t),i.comment="",i.$message({message:"评论成功",type:"success",customClass:"zIndex"})):i.$message({message:"评论失败",type:"danger",customClass:"zIndex"})})},like:function(t){var e=this;this.$http.post("/api/pictureLike",{uid:this.uid,pid:t.pid},{emulateJSON:!0}).then(function(s){console.log(s),"点赞成功"==s.body.message?(e.$message({message:"点赞成功",type:"success",customClass:"zIndex"}),t.like_num++,e.show(t)):e.$message({message:"点赞失败",type:"danger",customClass:"zIndex"})})},show:function(t){this.uid?(this.useritem={},this.dialogVisible=!0,this.diaitem=t,this.getuserinfo(t.uid),this.getpicdetail(t.pid)):this.$message({message:"您还未登录",type:"warning",customClass:"zIndex"})}}},Lt=Pt,Dt=(s("e22e"),Object(d["a"])(Lt,Jt,Wt,!1,null,null,null)),Ht=Dt.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mywork"},[s("el-row",{attrs:{type:"flex",justify:"center"}},[s("el-col",{attrs:{span:23}},[s("waterfall",{staticClass:"mywork-div",attrs:{col:t.col,width:t.itemWidth,gutterWidth:t.gutterWidth,data:t.imgs},on:{loadmore:t.loadmore,scroll:t.scroll}},[t._l(t.imgs,function(e){return s("div",{key:e.pid,staticClass:"mywork-item"},[s("div",{staticClass:"mywork-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.position,expression:"img.position"}]})]),s("div",{staticClass:"mywork-shadow"},[s("div",{staticClass:"mywork-det"},[s("el-button",{attrs:{type:"text"},on:{click:function(s){t.show(e),t.getpicdetail(e.pid)}}},[t._v("查看详情")])],1),s("div",{staticClass:"mywork-line"},[s("div",{staticClass:"mywork-lc"},[t._v(t._s(e.like_num)+"喜欢")]),t.my?s("div",{staticClass:"my-work-space"}):t._e(),t.my?s("div",{staticClass:"mywork-btn"},[s("el-button",{attrs:{type:"text"},on:{click:function(s){return t.deletepic(e.pid)}}},[t._v("删除")])],1):t._e()])])])})],2)],1)],1),s("el-dialog",{staticClass:"recommend-dia",attrs:{visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"mywork-dia-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.diaitem.position,expression:"diaitem.position"}]})]),s("div",{staticClass:"mywork-dia-text",domProps:{textContent:t._s(t.diaitem.description)}}),s("div",{staticClass:"tj-dia-like"},[s("el-button",{attrs:{icon:"el-icon-gz-heart"}}),s("span",{domProps:{textContent:t._s(t.diaitem.like_num)}})],1),s("div",{staticClass:"mywork-tag"},[t._v("标签："+t._s(t.diaitem.type_name))]),s("div",{staticClass:"mywork-dia-tabs"},t._l(t.picdetail.comment,function(e){return s("div",{key:e.cid,staticClass:"mywork-hot"},[s("div",{staticClass:"mywork-hot-tx"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.from_head_image,expression:"com.from_head_image"}]})]),s("div",{staticClass:"mywork-hot-name"},[t._v(t._s(e.from_username?e.from_username:"注册用户"))]),s("div",{staticClass:"mywork-coms-com"},[t._v(t._s(e.content))])])}),0)])],1)},Ut=[],Yt={name:"mywork",data:function(){var t,e;return t=void 0!=this.$route.query.uuid?this.$route.query.uuid:this.$route.query.uid,e=void 0!=this.$route.query.my&&("true"==this.$route.query.my||"false"!=this.$route.query.my&&this.$route.query.my),{dialogVisible:!1,diaitem:[],picdetail:[],activeName:"comments",col:4,uid:t,my:e,avatar:"http://188.131.192.194/head_images/5LSk0zVtyKDq9UciiWPab50dwjoNI2324KtwSyBD.jpeg",imgs:[]}},created:function(){this.getmywork()},computed:{itemWidth:function(){return document.documentElement.clientWidth/310*69},gutterWidth:function(){return document.documentElement.clientWidth/400*4.5}},methods:{scroll:function(){},loadmore:function(){},getmywork:function(){var t=this;this.$http.post("/api/myPictures",{uid:this.uid},{emulateJSON:!0}).then(function(e){t.imgs=[];var s=ct()(e.body.result),i=!0,a=!1,l=void 0;try{for(var o,n=nt()(s);!(i=(o=n.next()).done);i=!0){var r=o.value,c={pid:r.pictureId,position:t.$store.state.HOST+r.position,type_name:r.typeName,like_num:r.likeNum};t.imgs.push(c)}}catch(u){a=!0,l=u}finally{try{i||null==n.return||n.return()}finally{if(a)throw l}}})},getpicdetail:function(t){var e=this;this.$http.post("/api/pictureDetail",{pid:t},{emulateJSON:!0}).then(function(t){e.picdetail=ct()(t.body)})},deletepic:function(t){var e=this;this.$http.post("/api/deletePicture",{uid:this.uid,pid:t},{emulateJSON:!0}).then(function(t){"删除成功"==t.body.message?(e.$message({message:"删除成功",type:"success",customClass:"zIndex"}),e.getmywork()):e.$message({message:"删除失败",type:"danger",customClass:"zIndex"})})},show:function(t){this.dialogVisible=!0,this.diaitem=t}}},Bt=Yt,Zt=(s("ad28"),Object(d["a"])(Bt,Rt,Ut,!1,null,null,null)),Gt=Zt.exports,Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"like"},[s("el-row",{attrs:{type:"flex",justify:"center"}},[s("el-col",{attrs:{span:23}},[s("waterfall",{staticClass:"like-div",attrs:{col:t.col,width:t.itemWidth,gutterWidth:t.gutterWidth,data:t.imgs},on:{loadmore:t.loadmore,scroll:t.scroll}},[t._l(t.imgs,function(e){return s("div",{key:e.pid,staticClass:"like-item"},[s("div",{staticClass:"like-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.position,expression:"img.position"}]})]),s("div",{staticClass:"like-shadow"},[s("div",{staticClass:"like-det"},[s("el-button",{attrs:{type:"text"},on:{click:function(s){t.show(e),t.getuserinfo(e.uid),t.getpicdetail(e.pid)}}},[t._v("查看详情")])],1),s("div",{staticClass:"like-line"},[s("div",{staticClass:"like-lc"},[t._v(t._s(e.like_num)+"喜欢")]),t.my?s("div",{staticClass:"my-work-space"}):t._e(),t.my?s("div",{staticClass:"like-btn"},[s("el-button",{attrs:{type:"text"},on:{click:function(s){return t.deletelike(e.pid)}}},[t._v("取消点赞")])],1):t._e()])])])})],2)],1)],1),s("el-dialog",{staticClass:"like-dia",attrs:{visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"like-diahead"},[s("div",{staticClass:"like-diahead-tx"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.useritem.head_image,expression:"useritem.head_image"}],on:{click:function(e){return t.others(t.diaitem.uid)}}})]),s("div",{staticClass:"like-diahead-name",on:{click:function(e){return t.others(t.diaitem.uid)}}},[t._v(t._s(t.useritem.username?t.useritem.username:"注册用户"))]),s("el-button",{staticClass:"like-diahead-btn",attrs:{size:"mini",type:"success"},on:{click:function(e){return t.afollow(t.diaitem.uid)}}},[t._v("关注")])],1),s("div",{staticClass:"like-dia-cont"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.diaitem.position,expression:"diaitem.position"}]})]),s("div",{staticClass:"like-dia-text",domProps:{textContent:t._s(t.diaitem.description)}}),s("div",{staticClass:"tj-dia-like"},[s("el-button",{attrs:{icon:"el-icon-gz-heart"}}),s("span",{domProps:{textContent:t._s(t.diaitem.like_num)}})],1),s("div",{staticClass:"like-dia-tabs"},[s("div",{staticClass:"recommend-dia-comment"},[s("el-input",{staticClass:"recommend-dia-input",attrs:{placeholder:"请输入内容"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),s("el-button",{staticClass:"recommend-dia-btn",attrs:{type:"primary"},on:{click:function(e){return t.addcom(t.diaitem.pid,t.diaitem.uid,t.comment)}}},[t._v("评 论")])],1),t._l(t.picdetail.comment,function(e){return s("div",{key:e.cid,staticClass:"like-hot"},[s("div",{staticClass:"like-hot-tx"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.HOST+e.from_head_image,expression:"HOST + com.from_head_image"}]})]),s("div",{staticClass:"like-hot-name"},[t._v(t._s(e.from_username?e.from_username:"注册用户"))]),s("div",{staticClass:"like-coms-com"},[t._v(t._s(e.content))])])})],2)])],1)},Kt=[],Qt={name:"like",data:function(){var t;return void 0!=this.$route.query.my?(t="true"==this.$route.query.my||"false"!=this.$route.query.my&&this.$route.query.my,console.log(this.$route.query.my)):(console.log(this.$route.query.my),t=!1),{dialogVisible:!1,avatar:"http://188.131.192.194/head_images/5LSk0zVtyKDq9UciiWPab50dwjoNI2324KtwSyBD.jpeg",comment:"",col:4,uid:this.$route.query.uid,my:t,imgs:[],diaitem:[],picdetail:[],useritem:[],HOST:this.$store.state.HOST}},created:function(){this.getmylike()},computed:{itemWidth:function(){return document.documentElement.clientWidth/310*69},gutterWidth:function(){return document.documentElement.clientWidth/400*4.5}},methods:{afollow:function(t){var e=this;this.$http.post("/api/addFocus",{uid:this.uid,uuid:t},{emulateJSON:!0}).then(function(t){console.log(t),"关注成功"==t.body.message?e.$message({message:"关注成功",type:"success",customClass:"zIndex"}):e.$message({message:"您已关注",type:"warning",customClass:"zIndex"})})},others:function(t){this.$router.push({path:"/community/others",query:{my:!1,uid:t}})},scroll:function(){},loadmore:function(){},getmylike:function(){var t=this;this.$http.post("/api/like",{uid:this.uid},{emulateJSON:!0}).then(function(e){t.imgs=[];var s=ct()(e.body.result),i=!0,a=!1,l=void 0;try{for(var o,n=nt()(s);!(i=(o=n.next()).done);i=!0){var r=o.value,c={pid:r.pictureId,position:t.$store.state.HOST+r.position,weight:r.width,height:r.height,description:r.description,uid:r.uid,username:r.userName,head_image:t.$store.state.HOST+r.headImg,like_num:r.like_num};t.imgs.push(c)}}catch(u){a=!0,l=u}finally{try{i||null==n.return||n.return()}finally{if(a)throw l}}})},deletelike:function(t){var e=this;this.$http.post("/api/pictureLikeDelete",{uid:this.uid,pid:t},{emulateJSON:!0}).then(function(t){"取消点赞成功"==t.body.message?(e.$message({message:"取消点赞成功",type:"success",customClass:"zIndex"}),e.getmylike()):e.$message({message:"取消点赞失败",type:"danger",customClass:"zIndex"})})},getuserinfo:function(t){var e=this;this.$http.post("/api/basicInfo",{uid:t},{emulateJSON:!0}).then(function(t){e.useritem={username:t.body.username,sex:t.body.sex,desc:t.body.introduction,city:t.body.city,province:t.body.province,birth:t.body.birthday,head_image:e.$store.state.HOST+t.body.head_image}})},follow:function(){},getpicdetail:function(t){var e=this;this.$http.post("/api/pictureDetail",{pid:t},{emulateJSON:!0}).then(function(t){e.picdetail=ct()(t.body.result)})},addcom:function(t,e,s){var i=this;this.$http.post("/api/userComment",{pid:t,uid:this.uid,uuid:e,content:s},{emulateJSON:!0}).then(function(e){"评论成功"==e.body.message?(i.getpicdetail(t),i.comment="",i.$message({message:"评论成功",type:"success",customClass:"zIndex"})):i.$message({message:"评论失败",type:"danger",customClass:"zIndex"})})},show:function(t){this.diaitem=t,this.dialogVisible=!0}}},Xt=Qt,te=(s("2780"),Object(d["a"])(Xt,Mt,Kt,!1,null,null,null)),ee=te.exports,se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collection"},[s("el-row",{attrs:{type:"flex",justify:"center"}},[s("el-col",{attrs:{span:23}},[s("waterfall",{staticClass:"collec-div",attrs:{col:t.col,width:t.itemWidth,gutterWidth:t.gutterWidth,data:t.imgs},on:{loadmore:t.loadmore,scroll:t.scroll}},[t._l(t.imgs,function(e){return s("div",{key:e.pid,staticClass:"collec-item"},[s("div",{staticClass:"collec-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.position,expression:"img.position"}]})]),s("div",{staticClass:"collec-shadow"},[s("div",{staticClass:"collec-det"},[s("el-button",{attrs:{type:"text"},on:{click:function(s){return t.show(e)}}},[t._v("查看详情")])],1),t.my?s("div",{staticClass:"collec-line"},[s("div",{staticClass:"collec-btn"},[s("el-button",{attrs:{type:"text"},on:{click:function(s){return t.deletecollection(e.pid)}}},[t._v("取消收藏")])],1)]):t._e()])])})],2)],1)],1),s("el-dialog",{attrs:{visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"colec-dia-cont"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.diaitem.position,expression:"diaitem.position"}]})])])],1)},ie=[],ae={name:"collection",data:function(){var t;return void 0!=this.$route.query.my?(t="true"==this.$route.query.my||"false"!=this.$route.query.my&&this.$route.query.my,console.log(this.$route.query.my)):(console.log(this.$route.query.my),t=!1),{dialogVisible:!1,diaitem:[],activeName:"comments",comment:"",uid:this.$route.query.uid,col:4,imgs:[],my:t}},created:function(){this.getmycollection()},computed:{itemWidth:function(){return document.documentElement.clientWidth/310*69},gutterWidth:function(){return document.documentElement.clientWidth/400*4.5}},methods:{scroll:function(t){},loadmore:function(t){},getmycollection:function(){var t=this;this.$http.post("/api/collect",{uid:this.uid},{emulateJSON:!0}).then(function(e){if("获取成功"==e.body.message){t.imgs=[];var s=ct()(e.body.result),i=!0,a=!1,l=void 0;try{for(var o,n=nt()(s);!(i=(o=n.next()).done);i=!0){var r=o.value,c={pid:r.pictureId,position:t.$store.state.HOST+r.position};t.imgs.push(c)}}catch(u){a=!0,l=u}finally{try{i||null==n.return||n.return()}finally{if(a)throw l}}}else t.$message({message:"获取失败",type:"error",customClass:"zIndex"})})},deletecollection:function(t){var e=this;this.$http.post("/api/pictureCollectDelete",{uid:this.uid,pid:t},{emulateJSON:!0}).then(function(t){"取消收藏成功"==t.body.message?(e.$message({message:"取消收藏成功",type:"success",customClass:"zIndex"}),e.getmycollection()):e.$message({message:"取消收藏失败",type:"danger",customClass:"zIndex"})})},show:function(t){this.dialogVisible=!0,this.diaitem=t}}},le=ae,oe=(s("4dd6"),Object(d["a"])(le,se,ie,!1,null,null,null)),ne=oe.exports,re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"al"},[t.myalbum?s("el-row",{staticClass:"al-row"},[s("vue-loading",{staticClass:"wait-loading ",class:{loadingDisplay:!t.isLoading},attrs:{type:"spiningDubbles",color:"#9e9e9e",size:{width:"50px",height:"50px"}}}),t._l(t.datalist,function(e){return s("el-col",{key:e.gid,staticClass:"al-col",attrs:{span:5}},[0==e.num?s("div",{staticClass:"al-two"},[s("div",{staticClass:"al-one",style:{backgroundImage:"url("+t.bgurl+")"},on:{click:function(s){return t.detail(e.gid)}}})]):1==e.num?s("div",{staticClass:"al-two"},[s("div",{staticClass:"al-one",style:{backgroundImage:"url("+t.hostUrl+e.list[0].position+")"},on:{click:function(s){return t.detail(e.gid)}}})]):e.num>1?s("div",{staticClass:"al-two",style:{backgroundImage:"url("+t.hostUrl+e.list[1].position+")"}},[s("div",{staticClass:"al-one",style:{backgroundImage:"url("+t.hostUrl+e.list[0].position+")"},on:{click:function(s){return t.detail(e.gid)}}})]):t._e(),s("ul",{staticClass:"al-ul"},[s("li",{staticClass:"al-name"},[t._v(t._s(e.gallery_name))]),s("li",{staticClass:"alli-btn"},[s("el-button",{staticClass:"al-btn",attrs:{icon:"el-icon-edit"},on:{click:function(s){return t.changeal(e.gid,e.gallery_name,e.status,e.description)}}})],1),s("li",{staticClass:"al-num"},[t._v(t._s(e.num)+"张")]),0==e.status?s("li",{staticClass:"al-open"},[t._v("公开")]):s("li",{staticClass:"al-open"},[t._v("私密")])]),s("ul",{staticClass:"al-ul"},[s("li",{staticClass:"al-desc"},[t._v(t._s(e.description))])])])})],2):s("el-row",{staticClass:"al-row"},t._l(t.datalist,function(e){return 0==e.status?s("el-col",{key:e.gid,staticClass:"al-col",attrs:{span:5}},[0==e.num?s("div",{staticClass:"al-two"},[s("div",{staticClass:"al-one",style:{backgroundImage:"url("+t.bgurl+")"},on:{click:function(s){return t.detail(e.gid)}}})]):1==e.num?s("div",{staticClass:"al-two"},[s("div",{staticClass:"al-one",style:{backgroundImage:"url("+t.hostUrl+e.list[0].position+")"},on:{click:function(s){return t.detail(e.gid)}}})]):e.num>1?s("div",{staticClass:"al-two",style:{backgroundImage:"url("+t.hostUrl+e.list[1].position+")"}},[s("div",{staticClass:"al-one",style:{backgroundImage:"url("+t.hostUrl+e.list[0].position+")"},on:{click:function(s){return t.detail(e.gid)}}})]):t._e(),s("ul",{staticClass:"al-ul"},[s("li",{staticClass:"al-name"},[t._v(t._s(e.gallery_name))]),s("li",{staticClass:"al-num"},[t._v(t._s(e.num)+"张")]),s("li",{staticClass:"al-open"})]),s("ul",{staticClass:"al-ul"},[s("li",{staticClass:"al-desc"},[t._v(t._s(e.description))])])]):t._e()}),1),s("el-dialog",{attrs:{visible:t.changealbum},on:{"update:visible":function(e){t.changealbum=e}}},[s("el-form",{staticClass:"album-dia"},[s("el-form-item",{attrs:{label:"相册名称","label-width":t.formLabelWidth1}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.albumname,callback:function(e){t.albumname=e},expression:"albumname"}})],1),s("el-form-item",{attrs:{label:"相册描述","label-width":t.formLabelWidth1}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.albuminfo,callback:function(e){t.albuminfo=e},expression:"albuminfo"}})],1),s("el-form-item",{attrs:{label:"是否公开","label-width":t.formLabelWidth2}},[s("el-select",{attrs:{placeholder:"请选择是否公开"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.options,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.changealbum=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.deletealbum(t.gid)}}},[t._v("删 除")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.edit(t.gid)}}},[t._v("确 定")])],1)],1)],1)},ce=[],ue=(s("c5f6"),{name:"album",data:function(){return{hostUrl:this.$store.state.HOST,style:"",bgurl:s("0253"),comName:this.$route.path,uid:this.$route.query.uid,datalist:[],changealbum:!1,albumname:"",albuminfo:"",options:[{value:0,label:"公开"},{value:1,label:"私密"}],status:0,gid:"",formLabelWidth1:"100px",formLabelWidth2:"100px",myalbum:this.$route.query.uid==localStorage.getItem("uid"),isLoading:!0}},created:function(){this.getalbum()},methods:{getalbum:function(){var t=this;this.isLoading=!0,this.$http.post("/api/albumList",{uid:this.uid},{emulateJSON:!0}).then(function(e){if("获取成功"==e.body.message){t.datalist=[];var s=ct()(e.body.albums),i=ct()(e.body.pictures),a=[],l=0,o=!0,n=!1,r=void 0;try{for(var c,u=nt()(s);!(o=(c=u.next()).done);o=!0){var m=c.value;a=i[l];var d={gid:m.albumId,num:a.length,list:a,gallery_name:m.albumName,status:Number(m.status),description:m.description};l++,t.datalist.push(d)}}catch(h){n=!0,r=h}finally{try{o||null==u.return||u.return()}finally{if(n)throw r}}}else t.$message({message:"获取失败",type:"error",customClass:"zIndex"});t.isLoading=!1})},changeal:function(t,e,s,i){this.gid=t,this.changealbum=!0,this.albumname=e,this.status=s,this.albuminfo=i},edit:function(t){var e=this;this.$http.post("/api/albumUpdate",{gid:t,uid:this.uid,albumName:this.albumname,status:this.status,description:this.albuminfo},{emulateJSON:!0}).then(function(t){"修改成功"==t.body.message?(e.$message({message:"修改成功",type:"success",customClass:"zIndex"}),e.getalbum(),e.changealbum=!1):(e.$message({message:"修改失败",type:"danger",customClass:"zIndex"}),e.changealbum=!1)})},deletealbum:function(t){var e=this;this.$http.post("/api/albumDelete",{gid:t,uid:this.uid},{emulateJSON:!0}).then(function(t){"删除成功"==t.body.message?(e.$message({message:"删除成功",type:"success",customClass:"zIndex"}),e.getalbum(),e.changealbum=!1):e.$message({message:"删除失败",type:"danger",customClass:"zIndex"})})},detail:function(t){/others/gi.test(this.comName)?this.$router.push({path:"/community/others/album/detail",query:{my:!1,gid:t,uid:this.uid}}):this.$router.push({path:"/community/mycommunity/myalbum/detail",query:{my:!0,gid:t,uid:this.uid}})}}}),me=ue,de=(s("7926"),Object(d["a"])(me,re,ce,!1,null,null,null)),he=de.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"follows"},[s("span",{staticClass:"follows-title"},[t._v("您关注了 "+t._s(t.followsnum)+" 位用户")]),s("el-row",{staticClass:"follows-row"},t._l(t.items,function(e){return s("el-col",{key:e.uid,staticClass:"follows-col",attrs:{span:5}},[s("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[s("div",{staticClass:"card-bg"}),s("ul",{staticClass:"follows-ul"},[s("li",{staticClass:"follows-tx"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.head_image,expression:"item.head_image"}],on:{click:function(s){return t.others(e.uid)}}})]),s("li",{staticClass:"follows-name",on:{click:function(s){return t.others(e.uid)}}},[t._v(t._s(e.username?e.username:"注册用户"))]),s("li",{staticClass:"follows-btn"},[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return t.deletefocus(e.uid)}}},[t._v("取消关注")])],1)])])],1)}),1)],1)},pe=[],fe={name:"follows",data:function(){return{uid:this.$route.query.uid,followsnum:this.$route.query.follows,items:[]}},created:function(){this.getfollows()},methods:{others:function(t){this.$router.push({path:"/community/others",query:{my:!1,uuid:t}})},getfollows:function(){var t=this;this.$http.post("/api/focus",{uid:this.uid},{emulateJSON:!0}).then(function(e){t.items=[];var s=ct()(e.body.result),i=0,a=!0,l=!1,o=void 0;try{for(var n,r=nt()(s);!(a=(n=r.next()).done);a=!0){var c=n.value,u={uid:c.userId,username:c.userName,head_image:t.$store.state.HOST+c.headImg};t.items.push(u),i++}}catch(m){l=!0,o=m}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}t.followsnum=i})},deletefocus:function(t){var e=this;this.$http.post("/api/deleteFocus",{uid:this.uid,uuid:t},{emulateJSON:!0}).then(function(t){"取消关注成功"==t.body.message?e.$message({message:"取消关注成功",type:"success",customClass:"zIndex"}):e.$message({message:"取消关注失败",type:"success",customClass:"zIndex"}),e.getfollows(),e.$emit("getmsg",(e.followsnum-1).toString())})}}},ye=fe,ve=(s("1b36"),Object(d["a"])(ye,ge,pe,!1,null,null,null)),be=ve.exports,we=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fans"},[s("span",{staticClass:"fans-title"},[t._v("共有 "+t._s(t.fansnum)+" 位用户关注了您")]),s("el-row",{staticClass:"fans-row"},t._l(t.items,function(e){return s("el-col",{key:e.uid,staticClass:"fans-col",attrs:{span:5}},[s("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[s("div",{staticClass:"card-bg"}),s("ul",{staticClass:"fans-ul"},[s("li",{staticClass:"fans-tx"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.head_image,expression:"item.head_image"}],on:{click:function(s){return t.others(e.uid)}}})]),s("li",{staticClass:"fans-name",on:{click:function(s){return t.others(e.uid)}}},[t._v(t._s(e.username?e.username:"注册用户"))]),s("li",{staticClass:"fans-btn"},[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return t.follow(e.uid)}}},[t._v("关注")])],1)])])],1)}),1)],1)},Ce=[],xe={name:"fans",data:function(){return{uid:this.$route.query.uid,fansnum:this.$route.query.fans,items:[],arr:[],followsnum:this.$route.query.follows}},created:function(){this.getfans()},methods:{others:function(t){this.$router.push({path:"/community/others",query:{my:!1,uuid:t}})},getfans:function(){var t=this;this.$http.post("/api/fans",{uid:this.uid},{emulateJSON:!0}).then(function(e){t.items=[];var s=ct()(e.body.result),i=!0,a=!1,l=void 0;try{for(var o,n=nt()(s);!(i=(o=n.next()).done);i=!0){var r=o.value,c={uid:r.userId,username:r.userName,head_image:t.$store.state.HOST+r.headImg};t.items.push(c)}}catch(u){a=!0,l=u}finally{try{i||null==n.return||n.return()}finally{if(a)throw l}}})},follow:function(t){var e=this;this.$http.post("/api/addFocus",{uid:this.uid,uuid:t},{emulateJSON:!0}).then(function(t){"关注成功"==t.body.message?(e.$message({message:"关注成功",type:"success",customClass:"zIndex"}),e.$emit("getmsg",(Number(e.followsnum)+1).toString()),console.log(),e.followsnum=(Number(e.followsnum)+1).toString()):"已关注该用户"==t.body.message?e.$message({message:"您已关注",type:"warning",customClass:"zIndex"}):e.$message({message:"关注失败",type:"warning",customClass:"zIndex"})})},deletefocus:function(t){var e=this;this.$http.post("/api/deleteFocus",{uid:this.uid,uuid:t},{emulateJSON:!0}).then(function(t){"取消关注成功"==t.body.message?(e.getfans(),e.$message({message:"取消关注成功",type:"success",customClass:"zIndex"}),e.$route.query.follows=e.$route.query.follows-1):e.$message({message:"取消关注失败",type:"warning",customClass:"zIndex"})})}}},ke=xe,_e=(s("97ea"),Object(d["a"])(ke,we,Ce,!1,null,null,null)),$e=_e.exports,Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-body"},[s("div",{staticClass:"aldetail"},[s("el-row",{attrs:{type:"flex",justify:"center"}},[s("el-col",{attrs:{span:23}},[t.my?s("div",{staticClass:"aldetail-head"},[s("input",{ref:"imgInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(e){return t.changeimg(e)}}}),s("el-button",{staticClass:"aldetail-head-btn",attrs:{size:"mini"},on:{click:t.uploadimg}},[t._v("添加图片")])],1):t._e(),s("waterfall",{staticClass:"aldetail-div",attrs:{col:t.col,width:t.itemWidth,gutterWidth:t.gutterWidth,data:t.imgs},on:{loadmore:t.loadmore,scroll:t.scroll}},[t._l(t.imgs,function(e){return s("div",{key:e.pid,staticClass:"aldetail-item"},[s("div",{staticClass:"aldetail-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.position,expression:"img.position"}]})]),s("div",{staticClass:"aldetail-shadow"},[s("div",{staticClass:"aldetail-det"},[s("el-button",{attrs:{type:"text"},on:{click:function(s){return t.show(e)}}},[t._v("查看详情")])],1),t.my?s("div",{staticClass:"aldetail-line"},[s("div",{staticClass:"aldetail-btn"},[s("el-button",{attrs:{type:"text"},on:{click:function(s){return t.deletedetail(e.pid)}}},[t._v("删除")])],1)]):t._e()])])})],2)],1)],1)],1),s("el-dialog",{attrs:{visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"colec-dia-cont"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.diaitem.position,expression:"diaitem.position"}]})])]),s("el-dialog",{attrs:{visible:t.uploadToAlbum},on:{"update:visible":function(e){t.uploadToAlbum=e}}},[s("el-form",{staticClass:"album-dia",model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[s("el-checkbox-group",{model:{value:t.form.adds,callback:function(e){t.$set(t.form,"adds",e)},expression:"form.adds"}},[s("el-row",t._l(t.pics,function(t){return s("el-col",{key:t.pid,attrs:{span:8}},[s("el-card",{attrs:{"body-style":{padding:"0px"}}},[s("el-checkbox-button",{attrs:{label:t.pid}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.position,expression:"pic.position"}],staticClass:"image"})])],1)],1)}),1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.uploadToAlbum=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.galleryUpload}},[t._v("确 定")])],1)],1)],1)},Ne=[],ze={name:"albumdetail",data:function(){var t;return void 0!=this.$route.query.my?(t="true"==this.$route.query.my||"false"!=this.$route.query.my&&this.$route.query.my,console.log(this.$route.query.my)):(console.log(this.$route.query.my),t=!1),{dialogVisible:!1,diaitem:[],activeName:"comments",gid:this.$route.query.gid,uid:this.$route.query.uid,my:t,col:4,imgs:[],uploadToAlbum:!1,pics:[],form:{adds:[]},isLoading:!0}},created:function(){this.getalbumdetail()},computed:{itemWidth:function(){return document.documentElement.clientWidth/310*69},gutterWidth:function(){return document.documentElement.clientWidth/400*4.5}},methods:{uploadimg:function(){var t=this;this.$http.post("/api/albumAddPic",{gid:this.gid,uid:this.uid},{emulateJSON:!0}).then(function(e){if("获取成功"==e.body.message){t.pics=[];var s=ct()(e.body.result),i=!0,a=!1,l=void 0;try{for(var o,n=nt()(s);!(i=(o=n.next()).done);i=!0){var r=o.value,c={pid:r.pictureId,position:t.$store.state.HOST+r.position};t.pics.push(c)}}catch(u){a=!0,l=u}finally{try{i||null==n.return||n.return()}finally{if(a)throw l}}}else t.$message({message:"获取失败",type:"error",customClass:"zIndex"})}),this.form.adds=[],this.uploadToAlbum=!0},galleryUpload:function(){var t=this;this.changealbum=!1,console.log(JSON.parse(bt()(this.form.adds))),this.$http.post("/api/albumUpload",{pids:this.form.adds,gid:this.gid}).then(function(e){"添加成功"==e.body.message?t.$message({message:"添加成功",type:"success",customClass:"zIndex"}):t.$message({message:"添加失败",type:"error",customClass:"zIndex"}),t.getalbumdetail(),t.form.adds=[],t.uploadToAlbum=!1})},scroll:function(){},loadmore:function(){},getalbumdetail:function(){var t=this;this.$http.post("/api/albumDetail",{gid:this.gid},{emulateJSON:!0}).then(function(e){if("获取成功"==e.body.message){t.imgs=[];var s=ct()(e.body.pictures),i=!0,a=!1,l=void 0;try{for(var o,n=nt()(s);!(i=(o=n.next()).done);i=!0){var r=o.value,c={pid:r.pictureId,position:t.$store.state.HOST+r.position};t.imgs.push(c)}}catch(u){a=!0,l=u}finally{try{i||null==n.return||n.return()}finally{if(a)throw l}}}else t.$message({message:"获取失败",type:"error",customClass:"zIndex"});t.isLoading=!1})},deletedetail:function(t){var e=this;this.$http.post("/api/deleteFromAlbum",{gid:this.gid,pid:t},{emulateJSON:!0}).then(function(t){"删除成功"==t.body.message?(e.$message({message:"删除成功",type:"success",customClass:"zIndex"}),e.getalbumdetail()):e.$message({message:"删除失败",type:"warning",customClass:"zIndex"})})},show:function(t){this.dialogVisible=!0,this.diaitem=t}}},Se=ze,Oe=(s("579c"),Object(d["a"])(Se,Ie,Ne,!1,null,null,null)),Fe=Oe.exports,Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",[s("el-main",{staticClass:"no-main"},[s("router-view")],1)],1)},Ee=[],je={name:"noticeindex",data:function(){return{comName:"inform",flag1:!0,flag2:!1}},methods:{show:function(t){this.comName=t,/message/g.test(this.comName)?(this.flag1=!0,this.flag2=!1):(this.flag1=!1,this.flag2=!0)}},created:function(){this.comName=this.$route.path,/message/g.test(this.comName)?(this.flag1=!0,this.flag2=!1):/inform/g.test(this.comName)&&(this.flag1=!1,this.flag2=!0)}},qe=je,Je=(s("c35b"),Object(d["a"])(qe,Ae,Ee,!1,null,null,null)),We=Je.exports,Te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"me"},[s("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{staticClass:"me-tab",attrs:{label:"评论",name:"first"}},t._l(t.items,function(e){return s("div",{key:e.id,staticClass:"me-item"},[s("ul",{staticClass:"me-ul"},[s("li",{staticClass:"me-tx"},[s("img",{attrs:{src:e.tx}})]),s("li",{staticClass:"me-user",domProps:{textContent:t._s(e.username)}}),s("li",{staticClass:"me-do"},[t._v("评论了")]),s("li",{staticClass:"me-thing"},[t._v("你的作品")]),s("li",{staticClass:"me-pic"},[s("img",{attrs:{src:e.url}})]),s("li",{staticClass:"me-time"},[t._v("53分钟前")])])])}),0),s("el-tab-pane",{staticClass:"me-tab",attrs:{label:"喜欢",name:"second"}},t._l(t.items,function(e){return s("div",{key:e.id,staticClass:"me-item"},[s("ul",{staticClass:"me-ul"},[s("li",{staticClass:"me-tx"},[s("img",{attrs:{src:e.tx}})]),s("li",{staticClass:"me-user",domProps:{textContent:t._s(e.username)}}),s("li",{staticClass:"me-do"},[t._v("评论了")]),s("li",{staticClass:"me-thing"},[t._v("你的作品")]),s("li",{staticClass:"me-pic"},[s("img",{attrs:{src:e.url}})]),s("li",{staticClass:"me-time"},[t._v("53分钟前")])])])}),0)],1)],1)},Ve=[],Pe={name:"message",data:function(){return{activeName:"first",items:[{id:0,tx:"/img/tx6.27d6e020.jpg",username:"冬眠的熊",text:"月有阴晴圆缺",like:"8",comments:"20",url:"https://xieranmaya.github.io/images/cats/photo-103450229.jpg",width:675,height:900,flag:!1},{id:1,tx:"/img/tx6.27d6e020.jpg",username:"冬眠的熊",text:"月有阴晴圆缺",like:"8",comments:"20",url:"https://xieranmaya.github.io/images/cats/photo-108273877.jpg",width:1170,height:780,flag:!1},{id:2,tx:"/img/tx6.27d6e020.jpg",username:"冬眠的熊",text:"月有阴晴圆缺",like:"8",comments:"20",url:"https://xieranmaya.github.io/images/cats/photo-115203323.jpg",width:1170,height:780,flag:!1},{id:3,tx:"/img/tx6.27d6e020.jpg",username:"冬眠的熊",text:"月有阴晴圆缺",like:"8",comments:"20",url:"https://xieranmaya.github.io/images/cats/photo-23583825.jpg",width:2048,height:1536,flag:!1}]}}},Le=Pe,De=(s("79c3"),Object(d["a"])(Le,Te,Ve,!1,null,null,null)),He=De.exports,Re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"not"},[s("ul",{staticClass:"not-ul"},t._l(t.items,function(e){return s("li",{key:e.id},[s("div",{staticClass:"not-message"},[t._v(t._s(e.introduce))]),s("div",{staticClass:"not-img"},[s("img",{attrs:{src:e.position}})])])}),0)])},Ue=[],Ye={name:"notice",data:function(){return{uid:localStorage.getItem("uid"),items:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.$http.post("/api/pushList",{uid:this.uid},{emulateJSON:!0}).then(function(e){console.log(e),t.items=[];var s=ct()(e.body.result),i=!0,a=!1,l=void 0;try{for(var o,n=nt()(s);!(i=(o=n.next()).done);i=!0){var r=o.value,c={id:r.userId,introduce:r.introduction,position:r.headImg};t.items.push(c)}}catch(u){a=!0,l=u}finally{try{i||null==n.return||n.return()}finally{if(a)throw l}}})}}},Be=Ye,Ze=(s("e423"),Object(d["a"])(Be,Re,Ue,!1,null,null,null)),Ge=Ze.exports,Me=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",[s("el-header",[s("el-row",{staticClass:"comhead",attrs:{type:"flex",justify:"center"}},[s("el-col",{class:["userbtn",t.flag1?"user-btn-active":""],attrs:{span:2,offset:0}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){return t.show("/profile")}}},[t._v("资料")])],1),s("el-col",{class:["userbtn",t.flag2?"user-btn-active":""],attrs:{span:2,offset:3}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){return t.show("/account")}}},[t._v("账号和密码")])],1)],1)],1),s("el-main",{staticClass:"user-main"},[s("router-view")],1)],1)},Ke=[],Qe={name:"user",data:function(){return{flag1:!1,flag2:!1,flag3:!1,comName:"/profile"}},methods:{show:function(t){this.comName=t,"/profile"==this.comName?(this.$router.push({path:"/user/profile"}),this.flag1=!0,this.flag2=!1,this.flag3=!1):"/account"==this.comName?(this.$router.push({path:"/user/account"}),this.flag1=!1,this.flag2=!0,this.flag3=!1):"/setting"==this.comName&&(this.$router.push({path:"/user/setting"}),this.flag1=!1,this.flag2=!1,this.flag3=!0)}},created:function(){this.comName=this.$route.path,/profile/g.test(this.comName)?(this.flag1=!0,this.flag2=!1,this.flag3=!1):/account/g.test(this.comName)?(this.flag1=!1,this.flag2=!0,this.flag3=!1):/setting/g.test(this.comName)&&(this.flag1=!1,this.flag2=!1,this.flag3=!0)}},Xe=Qe,ts=(s("e791"),Object(d["a"])(Xe,Me,Ke,!1,null,null,null)),es=ts.exports,ss=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pr"},[s("h2",{staticClass:"pr-title"},[t._v("基本信息")]),s("el-container",[s("el-main",{staticClass:"pr-title"},[s("h5",[t._v("用户名")]),s("el-input",{staticClass:"pr-input",model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("h5",[t._v("性别")]),s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.sex,callback:function(e){t.sex=e},expression:"sex"}},t._l(t.options,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),s("h5",[t._v("生日")]),s("div",{staticClass:"block"},[s("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.birth,callback:function(e){t.birth=e},expression:"birth"}})],1),s("h5",[t._v("简介")]),s("el-input",{staticClass:"pr-input",model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}}),s("h5",[t._v("居住城市")]),s("v-distpicker",{attrs:{province:t.province,city:t.city,"hide-area":""},on:{province:t.changeprovince,city:t.changecity}}),s("el-button",{staticClass:"pr-btn",on:{click:t.save}},[t._v("保 存")])],1),s("el-aside",{staticClass:"pr-aside",attrs:{width:"300px"}},[s("img",{staticClass:"pr-tx",attrs:{src:t.avatar}}),s("br"),s("input",{ref:"avatarInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(e){return t.changeHead(e)}}}),s("el-button",{staticClass:"pr-txbtn",attrs:{size:"mini"},on:{click:t.setAvatar}},[t._v("上传图片")]),s("el-button",{staticClass:"pr-txbtn",attrs:{size:"mini"},on:{click:t.confirmSet}},[t._v("确认修改")])],1)],1)],1)},is=[],as={name:"profile",components:{VDistpicker:T.a},data:function(){return{uid:localStorage.getItem("uid"),picture:{},username:"",sex:0,options:[{value:0,label:"保密"},{value:1,label:"男"},{value:2,label:"女"}],birth:"",desc:"",province:"",city:"",headimg:"",multiple:!1,avatar:"",avatarurl:"",background:""}},created:function(){this.getinfo()},methods:{changeprovince:function(t){this.province=t.value},changecity:function(t){this.city=t.value},getinfo:function(){var t=this;this.$http.post("/api/basicInfo",{uid:this.uid},{emulateJSON:!0}).then(function(e){t.username=e.body.username,t.sex=e.body.sex,t.desc=e.body.introduce,t.city=e.body.city,t.province=e.body.province,t.birth=e.body.birthday,t.avatar=t.$store.state.HOST+e.body.head_image})},updateInfo:function(){var t=this;this.$http.post("/api/updateInfo",{uid:this.uid,username:this.username,sex:this.sex,birthday:this.birth,introduce:this.desc,province:this.province,city:this.city},{emulateJSON:!0}).then(function(e){console.log(e),"编辑成功"==e.body.message?(t.$message({message:"修改成功",type:"success",customClass:"zIndex"}),t.getinfo()):(t.$message({message:e.body.message,type:"danger",customClass:"zIndex"}),t.getinfo())})},save:function(){this.updateInfo()},changeHead:function(t){var e=t.target.files[0],s=new FileReader,i=this;s.readAsDataURL(e),s.onload=function(t){i.avatar=this.result}},setAvatar:function(){this.$refs.avatarInput.click()},uploadAvatar:function(){var t=this,e=new FormData;e.append("avatarFile",this.$refs.avatarInput.files[0]),e.append("uid",this.uid),this.$http.post("/api/uploadAvatar",e).then(function(e){console.log(e),"修改成功"==e.body.message?t.$message({message:"修改头像成功",type:"success",customClass:"zIndex"}):t.$message({message:"修改头像失败",type:"danger",customClass:"zIndex"})})},confirmSet:function(){this.uploadAvatar()}}},ls=as,os=(s("4108"),Object(d["a"])(ls,ss,is,!1,null,null,null)),ns=os.exports,rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ac"},[s("h2",{staticClass:"ac-title"},[t._v("账号")]),s("h5",{staticClass:"ac-title"},[t._v("Email地址")]),s("el-input",{staticClass:"ac-input",attrs:{disabled:!0},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("br"),s("el-form",{ref:"emailForm",attrs:{model:t.emailForm,rules:t.rules}},[s("el-form-item",{attrs:{prop:"email"}},[s("el-input",{staticClass:"ac-input",attrs:{placeholder:"输入要修改的邮箱"},model:{value:t.emailForm.email,callback:function(e){t.$set(t.emailForm,"email",e)},expression:"emailForm.email"}})],1),s("br"),s("el-button",{staticClass:"ac-btn",attrs:{disabled:t.emailbtn},on:{click:t.saveemail}},[t._v("确定")])],1),s("h5",{staticClass:"ac-title"},[t._v("手机号码")]),s("el-input",{staticClass:"ac-input",attrs:{disabled:!0},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),s("br"),s("el-form",{ref:"phoneForm",attrs:{model:t.phoneForm,rules:t.rules}},[s("el-form-item",{attrs:{prop:"phone"}},[s("el-input",{staticClass:"ac-input",attrs:{placeholder:"输入要修改的手机号码"},model:{value:t.phoneForm.phone,callback:function(e){t.$set(t.phoneForm,"phone",e)},expression:"phoneForm.phone"}})],1),s("br"),s("el-button",{staticClass:"ac-btn",attrs:{disabled:t.phonebtn},on:{click:t.savephone}},[t._v("确定")])],1),s("br"),s("h2",{staticClass:"ac-title"},[t._v("密码")]),s("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[s("h5",{staticClass:"ac-title"},[t._v("新密码")]),s("el-form-item",{attrs:{prop:"pass"}},[s("el-input",{staticClass:"ac-input",attrs:{autocomplete:"off",type:"password",placeholder:"输入密码"},model:{value:t.ruleForm.pass,callback:function(e){t.$set(t.ruleForm,"pass",e)},expression:"ruleForm.pass"}})],1),s("h5",{staticClass:"ac-title"},[t._v("确认密码")]),s("el-form-item",{attrs:{prop:"checkPass"}},[s("el-input",{staticClass:"ac-input",attrs:{type:"password",autocomplete:"off",placeholder:"再次输入密码"},model:{value:t.ruleForm.checkPass,callback:function(e){t.$set(t.ruleForm,"checkPass",e)},expression:"ruleForm.checkPass"}})],1),s("el-button",{staticClass:"ac-btn",attrs:{disabled:t.passwordbtn},on:{click:t.savepassword}},[t._v("确定")])],1)],1)},cs=[],us={name:"account",data:function(){var t=this,e=function(t,e,s){if(!e)return s(new Error("手机号不能为空"));var i=/^1[3|4|5|7|8][0-9]\d{8}$/;if(!i.test(e))return s(new Error("请输入正确的手机号"));s()},s=function(e,s,i){return""===s?i(new Error("请输入密码")):s.length<6?i(new Error("密码不能少于6位")):(""!==t.ruleForm.checkPass&&t.$refs.ruleForm.validateField("checkPass"),void i())},i=function(e,s,i){return""===s?i(new Error("请再次输入密码")):s.length<6?i(new Error("密码不能少于6位")):s!==t.ruleForm.pass?i(new Error("两次输入密码不一致!")):void i()};return{uid:localStorage.getItem("uid"),email:"",phone:"",emailbtn:!1,phonebtn:!1,passwordbtn:!1,emailForm:{email:""},phoneForm:{phone:""},ruleForm:{pass:"",checkPass:""},rules:{phone:[{validator:e,trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],pass:[{validator:s,trigger:"blur"}],checkPass:[{validator:i,trigger:"blur"}]}}},created:function(){this.getuserinfo()},methods:{getuserinfo:function(){var t=this;this.$http.post("/api/basicInfo",{uid:this.uid},{emulateJSON:!0}).then(function(e){e.body.email?t.email=e.body.email:t.email="您还未设置邮箱",e.body.phone?t.phone=e.body.phone:t.phone="您还未设置手机号"})},saveemail:function(){var t=this;this.$refs.emailForm.validate(function(e){if(!e)return!1;t.$http.post("/api/updateEmail",{uid:t.uid,email:t.emailForm.email},{emulateJSON:!0}).then(function(e){"编辑成功"==e.body.message?(t.$message({message:"修改成功",type:"success",customClass:"zIndex"}),t.getuserinfo(),t.emailForm.email=""):(t.$message({message:e.body.message,type:"danger",customClass:"zIndex"}),t.getuserinfo(),t.emailForm.email="")})})},savephone:function(){var t=this;this.$refs.phoneForm.validate(function(e){if(!e)return!1;t.$http.post("/api/updatePhone",{uid:t.uid,phone:t.phoneForm.phone},{emulateJSON:!0}).then(function(e){"编辑成功"==e.body.message?(t.$message({message:"修改成功",type:"success",customClass:"zIndex"}),t.getuserinfo(),t.phoneForm.phone=""):(t.$message({message:e.body.message,type:"danger",customClass:"zIndex"}),t.getuserinfo(),t.phoneForm.phone="")})})},savepassword:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return!1;t.$http.post("/api/updatePassword",{uid:t.uid,password:t.ruleForm.pass},{emulateJSON:!0}).then(function(e){"编辑成功"==e.body.message?(t.$message({message:"修改成功",type:"success",customClass:"zIndex"}),t.getuserinfo(),t.ruleForm.pass="",t.ruleForm.checkPass=""):(t.$message({message:"修改失败",type:"danger",customClass:"zIndex"}),t.getuserinfo(),t.ruleForm.pass="",t.ruleForm.checkPass="")})})}}},ms=us,ds=(s("3172"),Object(d["a"])(ms,rs,cs,!1,null,null,null)),hs=ds.exports,gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"se"},[s("h2",{staticClass:"se-title"},[t._v("偏好")]),s("el-checkbox",{staticClass:"se-title",model:{value:t.checked1,callback:function(e){t.checked1=e},expression:"checked1"}},[s("h4",[t._v("邮件提醒")])]),s("p",{staticClass:"se-title"},[t._v("当有人发私信时，发邮件通知给我")]),s("el-checkbox",{staticClass:"se-title",model:{value:t.checked2,callback:function(e){t.checked2=e},expression:"checked2"}},[s("h4",[t._v("关注提醒")])]),s("p",{staticClass:"se-title"},[t._v("当有人关注我时，发邮件通知给我")]),s("el-checkbox",{staticClass:"se-title",model:{value:t.checked3,callback:function(e){t.checked3=e},expression:"checked3"}},[s("h4",[t._v("消息订阅")])]),s("p",{staticClass:"se-title"},[t._v("当有新功能或新通知时，发邮件通知给我")])],1)},ps=[],fs={name:"setting",data:function(){return{checked1:"true",checked2:"",checked3:""}}},ys=fs,vs=(s("a895"),Object(d["a"])(ys,gs,ps,!1,null,null,null)),bs=vs.exports;i["default"].use(V["a"]);var ws=new V["a"]({routes:[{path:"/",component:U},{path:"/gallery",component:pt},{path:"/gallery/search",component:kt},{path:"/community/others",component:it,children:[{path:"/",component:Gt},{path:"work",component:Gt},{path:"like",component:ee},{path:"collection",component:ne},{path:"album",component:he},{path:"album/detail",component:Fe}]},{path:"/community",component:St,children:[{path:"/",component:Ht},{path:"recommend",component:Ht},{path:"mycommunity",component:qt,children:[{path:"/",component:Gt},{path:"mywork",component:Gt},{path:"mylike",component:ee},{path:"mycollection",component:ne},{path:"myalbum",name:"myalbum",component:he},{path:"myalbum/detail",component:Fe},{path:"follows",component:be},{path:"fans",component:$e}]}]},{path:"/publish",component:K},{path:"/notice",component:We,children:[{path:"/",component:Ge},{path:"message",name:"message",component:He},{path:"inform",name:"inform",component:Ge}]},{path:"/user",component:es,children:[{path:"profile",name:"profile",component:ns},{path:"account",name:"account",component:hs},{path:"setting",name:"setting",component:bs}]}],mode:"history"}),Cs=s("28dd"),xs=s("be79"),ks=s.n(xs),_s=s("caf9"),$s=s("d523"),Is=s.n($s);i["default"].config.productionTip=!1,i["default"].use(J.a),i["default"].use(Cs["a"]),i["default"].use(ks.a),i["default"].use(_s["a"]),i["default"].use(Is.a),i["default"].component("v-distpicker",T.a),new i["default"]({router:ws,store:Vt,render:function(t){return t(j)}}).$mount("#app")},"579c":function(t,e,s){"use strict";var i=s("fd13"),a=s.n(i);a.a},"5fbe":function(t,e,s){t.exports=s.p+"img/logo2.3fa0ee10.png"},"64a9":function(t,e,s){},"66fb":function(t,e,s){"use strict";var i=s("4921"),a=s.n(i);a.a},"70d4":function(t,e,s){},7926:function(t,e,s){"use strict";var i=s("3158"),a=s.n(i);a.a},"79c3":function(t,e,s){"use strict";var i=s("edeb"),a=s.n(i);a.a},"7e64":function(t,e,s){},"8f6e":function(t,e,s){"use strict";var i=s("7e64"),a=s.n(i);a.a},9376:function(t,e,s){"use strict";var i=s("2fe3"),a=s.n(i);a.a},9389:function(t,e,s){},"93ab":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkAgMAAACcbnALAAAACVBMVEUAAABGof9EoP89tsYeAAAAAnRSTlMAgJsrThgAAABsSURBVBjTRdCxEcAgDENR0jBBqkyTdcI0DJEGTwk6y/epdJcXsNV07lbnq3DF69RjOj3xO41YxcKwnzTNwnCctMwEkwkmEzQTFEsollAsoVhCEl/5g1u4mdeYgKmYlOnZiC3ZnDZoiNZoknY3Sy1rOwQAaRkAAAAASUVORK5CYII="},9631:function(t,e,s){"use strict";var i=s("47cb"),a=s.n(i);a.a},"97ea":function(t,e,s){"use strict";var i=s("c7ab"),a=s.n(i);a.a},a36a:function(t,e,s){},a895:function(t,e,s){"use strict";var i=s("b807"),a=s.n(i);a.a},ad28:function(t,e,s){"use strict";var i=s("2972"),a=s.n(i);a.a},b807:function(t,e,s){},ba1c:function(t,e,s){},c0b1:function(t,e,s){t.exports=s.p+"img/camera.f1d0a25b.png"},c121:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEB0lEQVRYR63XaehlcxgH8M9keYEy9iW7bPHC2MILRfbdiGkSWSaUsoR4YZdshVG2bGVfypa1QRFlDRlkTRr7vq+h77/n1J07555z/8ZTt27n/Jbvs32f75licrYU9scmWL5+i+FrfIUP8TRewd/jHD1lnEXYAcdiN/yCF/AFvsQfWAErYgusjO/xAE7FJ1139AHYCBcVgEvr0Jc6vFsEO+MwTMefuAAX4rc2IF0ADsKNeAjH9HnScvg6OB0H41XsWmmab2kbgDw7DyfiENw5ZppGLdsSD1YEAuKtwYVtAC5BvN8dLy/k5c32VQtEaiWAPmteDAM4EgGwNeZ2XL4sTsY2teY73FA1MmpbivT1unxb/JyFgwA2w/PYC492XL4vbsa71Q0/YVoV6rXVLa0FV449g8tw0jCAOZhXFTzq/lT4wzgH5+KfgYV74zZch+M7HLgYxyFFOq+JwPZ4DGvj4xGbF8UHeARHjViT9rseiWYqv82Wxke4G7MaAPfiGxzRgTxk9ATWLSCjln6L2Tir46wziqSmBsDiSBEdWJU6al+Y8Hws2dMZARmWnNmxLgT3JvYMgH1wO6YWrY7ad2gRUwCEjkdZKv1ZHN0DNOmcEwAppp2qQrv2ZADl8AAOz7dZ5kBqKJenI7rsGmwQAKHbZZD26rPHsX4NnYR50FKkKdAMpDXwY89hEzQdAGm/98cIWc5bBc8hIzhehjdCKOGBDKvNi/tv6fOkCn52A+CdGjhj7JuYdGG9NsvF6aSM6D7LnLkiAMJqERr79eyIALm1xm28zv+w2g/l+Vb1Ls5EtLzRc94pDQ9k3m/XU4Rr1mUpsoiMqxsuH7ok5yQKy1WxpmZGWbhiWiKQ9rqypw1fLHY7APf0eJZ2fgoBvXEHs6ZV5wZAQpuKDpdnbg/bDNxRnkfZjGOr4z3ch+wftkQocm6CiGLJZXJ3eMvi15AWCw8MDp8+IFch432lFiWU55mIE1Qcm1VpmJhQAycn55+WQjqt78aWekgqEoG7Bt5FNyY6T6ZjGgB5mAgkL2mPxnYpbRCBmYE1GUtqE+YMpbMHNkZfhjPmG8d5H6SZ55l6QR7bFE0BhoYnY3EuYiWXp9NiYcjIvHTKCXkwLMnS2zsWszV6frWhtEwGRIoxKfyruiyXh0Mi5RaQZDk4FBtqXqJIJWP6/7BQeOR9dGHo+vPm0DZVHMWSdgz6PcZgtD6AEbiZnr+WU28Pbhj1YZJI3FQCNSIkrJV8TsZC72eWPkwrj/1hMnhJBk/IJ11yec34zm+9GteJXFRv5Pt//jRrgEQBNZ9YyWU6JHWSPKbNAi6Um1/CvRZ+L9GZgbNQH6fDIV+v2jTtuWH9ImbyaZ5fCCaz4v4Rw2qBFP4L6hngEoc7APEAAAAASUVORK5CYII="},c35b:function(t,e,s){"use strict";var i=s("1928"),a=s.n(i);a.a},c514:function(t,e,s){"use strict";var i=s("d725"),a=s.n(i);a.a},c5a6:function(t,e,s){"use strict";var i=s("ecbe"),a=s.n(i);a.a},c69f:function(t,e,s){},c7ab:function(t,e,s){},cc13:function(t,e,s){},cf85:function(t,e,s){t.exports=s.p+"img/shequ-bg.79ba248e.jpg"},d58a:function(t,e,s){"use strict";var i=s("2004"),a=s.n(i);a.a},d725:function(t,e,s){},e22e:function(t,e,s){"use strict";var i=s("9389"),a=s.n(i);a.a},e31d:function(t,e,s){},e423:function(t,e,s){"use strict";var i=s("a36a"),a=s.n(i);a.a},e791:function(t,e,s){"use strict";var i=s("564a"),a=s.n(i);a.a},ecbe:function(t,e,s){},edeb:function(t,e,s){},fd13:function(t,e,s){}});